(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{bmiZ:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return s}));var n=a("KQm4"),r=(a("ToJy"),a("q1tI")),l=a.n(r),u=a("jFIn"),o=a("0J+H"),i=a("6xyR"),c=a("Bl7J"),m=new Intl.DateTimeFormat("en",{weekday:"short",year:"numeric",month:"short",day:"numeric"}).format(new Date).replace(/[^a-zA-Z0-9]/g,"_");function s(){var e=Object(u.a)("currentDay/"+m+"/posts/"),t=e.data,a=e.loading,r=e.error;if(a||!t)return l.a.createElement(c.a,null,l.a.createElement("div",null,"..."));if(r)return l.a.createElement(c.a,null,":-(");var s=Object.keys(t).map((function(e){return t[e]}));console.log(s),s.sort((function(e,t){var a=null!=e&&e.timestamp?e.timestamp:0,n=null!=t&&t.timestamp?t.timestamp:0;return a>n?-1:a<n?1:0})),console.log(s);var p=s?Object(n.a)(new Set(s.map((function(e){return e.user})))):[];console.log(p);var d=p.map((function(e){return{user:e,doneTasks:Object(n.a)(new Set(s.filter((function(t){return t.user===e})).map((function(e){return e.title})))).length}}));console.log(d);var f=s?Object(n.a)(new Set(s.map((function(e){return e.title})))):[];return l.a.createElement(c.a,null,f.map((function(e,t){return l.a.createElement(i.a,{key:t,className:"m-3"},l.a.createElement(i.a.Header,null,e),l.a.createElement(i.a.Body,null,s.filter((function(t){return t.title===e})).map((function(e,t){return l.a.createElement("span",{key:t},null!=e&&e.avatarUrl?l.a.createElement("img",{src:e.avatarUrl,alt:"",className:"m-3","data-toggle":"tooltip","data-placement":"bottom",title:null!=e&&e.user?e.user+" Сегодня "+d.filter((function(t){return t.user===e.user}))[0].doneTasks+" задач":"",style:{verticalAlign:"middle",width:"60px",height:"60px",borderRadius:"50%",filter:"grayscale(100%)",objectFit:"cover"}}):l.a.createElement("span",{"data-toggle":"tooltip","data-placement":"bottom",title:null!=e&&e.user?e.user+" Сегодня "+d.filter((function(t){return t.user===e.user}))[0].doneTasks+" задач":""},l.a.createElement(o.a,{email:null==e?void 0:e.email})))}))))})))}}}]);
//# sourceMappingURL=component---src-pages-currentwork-js-818b4feebda24b067aa8.js.map