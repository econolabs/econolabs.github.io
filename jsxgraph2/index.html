<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–æ–∏–∑–≤–æ–¥–Ω–∞—è sin(x) - JSXGraph –∞–Ω–∏–º–∞—Ü–∏—è</title>
    <script src="https://cdn.jsdelivr.net/npm/jsxgraph/distrib/jsxgraphcore.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jsxgraph/distrib/jsxgraph.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
        }
        .description {
            margin-bottom: 20px;
            line-height: 1.6;
        }
        #jxgbox {
            width: 100%;
            height: 400px;
            margin: 20px 0;
            border: 1px solid #ccc;
        }
        .controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        button {
            padding: 10px 20px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background-color: #2980b9;
        }
        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
            margin-top: 20px;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>–ì–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∞—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–æ–π sin(x)</h1>
        
        <div class="description">
            <p>–≠—Ç–∞ –∞–Ω–∏–º–∞—Ü–∏—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ sin(x).</p>
            <p><strong>–°–∏–Ω—É—Å–æ–∏–¥–∞</strong> (—Å–∏–Ω–∏–π –≥—Ä–∞—Ñ–∏–∫) - —Ñ—É–Ω–∫—Ü–∏—è f(x) = sin(x)</p>
            <p><strong>–ö–æ—Å–∏–Ω—É—Å–æ–∏–¥–∞</strong> (–∫—Ä–∞—Å–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫) - –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–∞—è f'(x) = cos(x)</p>
            <p>–¢–æ—á–∫–∞ P –¥–≤–∏–∂–µ—Ç—Å—è –ø–æ —Å–∏–Ω—É—Å–æ–∏–¥–µ. –ö–∞—Å–∞—Ç–µ–ª—å–Ω–∞—è –≤ —Ç–æ—á–∫–µ P –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω—É—é —Å–∫–æ—Ä–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏. –£–≥–ª–æ–≤–æ–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∫–∞—Å–∞—Ç–µ–ª—å–Ω–æ–π (—Ç–∞–Ω–≥–µ–Ω—Å —É–≥–ª–∞ –Ω–∞–∫–ª–æ–Ω–∞) —Ä–∞–≤–µ–Ω –∑–Ω–∞—á–µ–Ω–∏—é –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–æ–π –≤ —ç—Ç–æ–π —Ç–æ—á–∫–µ.</p>
        </div>
        
        <div id="jxgbox"></div>
        
        <div class="controls">
            <button onclick="startAnimation()">‚ñ∂Ô∏è –°—Ç–∞—Ä—Ç –∞–Ω–∏–º–∞—Ü–∏–∏</button>
            <button onclick="stopAnimation()">‚èπÔ∏è –°—Ç–æ–ø –∞–Ω–∏–º–∞—Ü–∏–∏</button>
            <button onclick="resetAnimation()">üîÑ –°–±—Ä–æ—Å</button>
            <button onclick="showDerivative()">üìà –ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—É—é</button>
        </div>
        
        <div class="legend">
            <div class="legend-item">
                <div class="legend-color" style="background-color: blue;"></div>
                <span>sin(x) - –∏—Å—Ö–æ–¥–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: red;"></div>
                <span>cos(x) - –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–∞—è</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: green;"></div>
                <span>–¢–æ—á–∫–∞ –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: orange;"></div>
                <span>–ö–∞—Å–∞—Ç–µ–ª—å–Ω–∞—è</span>
            </div>
        </div>
    </div>
 
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ—Å–∫–∏
        var board = JXG.JSXGraph.initBoard('jxgbox', {
            boundingbox: [-2*Math.PI, 2, 2*Math.PI, -2],
            axis: true,
            grid: true,
            showNavigation: true,
            showCopyright: false
        });
 
        // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏–∏
        var f = function(x) { return Math.sin(x); }; // sin(x)
        var df = function(x) { return Math.cos(x); }; // cos(x) - –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–∞—è sin(x)
 
        // –°–æ–∑–¥–∞–µ–º –≥—Ä–∞—Ñ–∏–∫ —Å–∏–Ω—É—Å–∞
        var sinGraph = board.create('functiongraph', [f], {
            strokeColor: 'blue',
            strokeWidth: 2,
            name: 'sin(x)',
            highlight: false
        });
 
        // –°–æ–∑–¥–∞–µ–º –≥—Ä–∞—Ñ–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–æ–π (–∫–æ—Å–∏–Ω—É—Å–∞) - –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –Ω–µ–≤–∏–¥–∏–º—ã–π
        var cosGraph = board.create('functiongraph', [df], {
            strokeColor: 'red',
            strokeWidth: 2,
            name: 'cos(x) = –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–∞—è sin(x)',
            highlight: false,
            visible: false
        });
 
        // –¢–æ—á–∫–∞-–ø–æ–ª–∑—É–Ω–æ–∫ –Ω–∞ –∫—Ä–∏–≤–æ–π
        var p = board.create('glider', [Math.PI/2, 0, sinGraph], {
            face: '‚óã',
            size: 5,
            name: 'P',
            color: 'green',
            withLabel: true,
            label: {offset: [20, -20]}
        });
 
        // –ö–∞—Å–∞—Ç–µ–ª—å–Ω–∞—è –≤ —Ç–æ—á–∫–µ P
        var tangent = board.create('tangent', [p], {
            strokeColor: 'orange',
            strokeWidth: 2,
            dash: 1,
            name: '–ö–∞—Å–∞—Ç–µ–ª—å–Ω–∞—è',
            highlight: false
        });
 
        // –¢—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫ –Ω–∞–∫–ª–æ–Ω–∞ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–æ–π
        var slopeTriangle = board.create('slopetriangle', [tangent], {
            fillColor: 'yellow',
            fillOpacity: 0.3,
            highlight: false
        });
 
        // –¢–æ—á–∫–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–æ–π
        var derivativePoint = board.create('point', [
            function() { return p.X(); },
            function() { return df(p.X()); }
        ], {
            face: '‚ñ≥',
            size: 4,
            color: 'red',
            name: '–ó–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–æ–π',
            visible: false,
            withLabel: true,
            label: {offset: [20, 20]}
        });
 
        // –¢–µ–∫—Å—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–µ–∫—É—â–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π
        var infoText = board.create('text', [-5.5, 1.5, function() {
            return 'f(x) = sin(x) = ' + f(p.X()).toFixed(3) + 
                   '\nf\'(x) = cos(x) = ' + df(p.X()).toFixed(3) +
                   '\nx = ' + p.X().toFixed(3) + 
                   ' ‚âà ' + (p.X()/Math.PI).toFixed(2) + 'œÄ';
        }], {
            fontSize: 16,
            strokeColor: 'black'
        });
 
        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏
        var animationTimer;
        var animationSpeed = 0.02;
 
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏
        function updateAnimation() {
            var currentX = p.X();
            var newX = currentX + animationSpeed;
            
            // –ï—Å–ª–∏ –≤—ã—à–ª–∏ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã, –Ω–∞—á–∏–Ω–∞–µ–º –∑–∞–Ω–æ–≤–æ
            if (newX > 2*Math.PI) {
                newX = -2*Math.PI;
            }
            
            p.moveTo([newX, f(newX)], 0);
            board.update();
        }
 
        // –§—É–Ω–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–∏
        function startAnimation() {
            if (!animationTimer) {
                animationTimer = setInterval(updateAnimation, 20);
            }
        }
 
        // –§—É–Ω–∫—Ü–∏—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∞–Ω–∏–º–∞—Ü–∏–∏
        function stopAnimation() {
            if (animationTimer) {
                clearInterval(animationTimer);
                animationTimer = null;
            }
        }
 
        // –§—É–Ω–∫—Ü–∏—è —Å–±—Ä–æ—Å–∞ –∞–Ω–∏–º–∞—Ü–∏–∏
        function resetAnimation() {
            stopAnimation();
            p.moveTo([Math.PI/2, f(Math.PI/2)], 0);
            board.update();
        }
 
        // –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞/—Å–∫—Ä—ã—Ç–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–æ–π
        function showDerivative() {
            cosGraph.setAttribute({visible: !cosGraph.visProp.visible});
            derivativePoint.setAttribute({visible: !derivativePoint.visProp.visible});
            board.update();
        }
 
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
        document.addEventListener('keydown', function(event) {
            switch(event.key) {
                case ' ':
                    if (animationTimer) {
                        stopAnimation();
                    } else {
                        startAnimation();
                    }
                    break;
                case 'ArrowLeft':
                    p.moveTo([p.X() - 0.1, f(p.X() - 0.1)], 0);
                    board.update();
                    break;
                case 'ArrowRight':
                    p.moveTo([p.X() + 0.1, f(p.X() + 0.1)], 0);
                    board.update();
                    break;
                case 'r':
                case 'R':
                    resetAnimation();
                    break;
                case 'd':
                case 'D':
                    showDerivative();
                    break;
            }
        });
 
        // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏
        board.create('text', [-5.5, -1.5, 
            '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:\n' +
            '–ü—Ä–æ–±–µ–ª - —Å—Ç–∞—Ä—Ç/—Å—Ç–æ–ø –∞–Ω–∏–º–∞—Ü–∏–∏\n' +
            '–°—Ç—Ä–µ–ª–∫–∏ ‚Üê‚Üí - –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Ç–æ—á–∫–∏\n' +
            'R - —Å–±—Ä–æ—Å\n' +
            'D - –ø–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—É—é'
        ], {
            fontSize: 12,
            strokeColor: 'gray'
        });
 
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ—Å–∫–∏
        board.update();
    </script>
</body>
</html>