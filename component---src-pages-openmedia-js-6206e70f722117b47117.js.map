{"version":3,"sources":["webpack:///./src/components/header.js","webpack:///./src/components/layout.js","webpack:///./src/pages/openmedia.js","webpack:///./src/mediatemplates/ShowMedia.js"],"names":["Header","siteTitle","className","style","margin","to","color","textDecoration","href","src","alt","verticalAlign","width","height","borderRadius","filter","objectFit","defaultProps","Layout","children","data","site","siteMetadata","title","maxWidth","padding","Date","getFullYear","author","OpenMedia","props","useFirebaseNode","location","search","substring","openMediaItem","loading","error","theme","Body","Title","type","datafirenode","content","Text","htmlfeedback","ReactHtmlParser","comment","answer","ShowMedia","mediaItems","Object","keys","map","mediaItem","mediaItemsIndex","key","GetSeriesCategoriesOptionsForApexChart","firenode","GetReadyScatterQuotesApexChart","GetReadyDatalineQuotesApexChart","ShowImages","urls","images","series","line","name","line_point","categories","showAs","options","scatter"],"mappings":"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","file":"component---src-pages-openmedia-js-6206e70f722117b47117.js","sourcesContent":["import { Link } from \"gatsby\"\nimport PropTypes from \"prop-types\"\nimport React from \"react\"\n\nconst Header = ({ siteTitle }) => (\n  <nav className=\"navbar  navbar-light bg-light \"> {/* navbar-dark bg-primary */}\n\n    <h3 style={{ margin: 0 }}>\n      <Link to=\"/\" style={{ color: `gray`, textDecoration: `none`, }}>{siteTitle}</Link>\n    </h3>\n    <a className=\"navbar-brand\" href=\"https://vk.com/id151078439\">\n      <img\n        src=\"https://sun9-37.userapi.com/c317630/v317630439/76a0/Bz6QTfBog0I.jpg?ava=1\"\n        //  width=\"30\"\n        //  height=\"45\"\n        alt=\"\"\n        style={{\n          verticalAlign: 'middle',\n          width: '40px',\n          height: '40px',\n          borderRadius: '50%',\n          filter: 'grayscale(100%)',\n          objectFit: 'cover'\n        }} />\n    </a>\n  </nav>\n\n  // <header\n  //   style={{\n  //     background: `rebeccapurple`,\n  //     marginBottom: `1.45rem`,\n  //   }}\n  // >\n  //   <div\n  //     style={{\n  //       margin: `0 auto`,\n  //       maxWidth: 960,\n  //       padding: `1.45rem 1.0875rem`,\n  //     }}\n  //   >\n  //     <h1 style={{ margin: 0 }}>\n  //       <Link\n  //         to=\"/\"\n  //         style={{\n  //           color: `white`,\n  //           textDecoration: `none`,\n  //         }}\n  //       >\n  //         {siteTitle}\n  //       </Link>\n  //     </h1>\n  //   </div>\n  // </header>\n)\n\nHeader.propTypes = {\n  siteTitle: PropTypes.string,\n}\n\nHeader.defaultProps = {\n  siteTitle: ``,\n}\n\nexport default Header\n","/**\n * Layout component that queries for data\n * with Gatsby's useStaticQuery component\n *\n * See: https://www.gatsbyjs.org/docs/use-static-query/\n */\n\nimport React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { useStaticQuery, graphql } from \"gatsby\"\n\nimport Header from \"./header\"\nimport \"./layout.css\"\n\nconst Layout = ({ children }) => {\n  const data = useStaticQuery(graphql`\n    query SiteTitleQuery {\n      site {\n        siteMetadata {\n          title\n          author\n        }\n      }\n    }\n  `)\n\n  return (\n    <>\n      <Header siteTitle={data.site.siteMetadata.title} />\n      <div\n        style={{\n          margin: `0 auto`,\n          maxWidth: 800,\n          padding: '2rem'\n        }}\n      >\n        <main>{children}</main>\n        <footer>\n          <span style={{color: 'darkgray'}}>\n          © {new Date().getFullYear()}, {\" \"}\n          <a href=\"https://vk.com/id151078439\" style={{color: 'darkgray'}}>{data.site.siteMetadata.author}</a>\n          </span>         \n        </footer>\n      </div>\n    </>\n  )\n}\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n}\n\nexport default Layout\n","import React from \"react\";\nimport { useFirebaseNode } from \"../hooks/useFirebaseNode\";\n\nimport Layout from \"../components/layout\";\nimport ShowMedia from \"../mediatemplates/ShowMedia\";\n\n import ReactHtmlParser from 'react-html-parser'; \n\n import Container from \"react-bootstrap/Container\";\n import Card from \"react-bootstrap/Card\";\n\n\nexport default function OpenMedia(props) {\n\n  const { data: openMediaItem, loading, error } = useFirebaseNode(\"openmedia/\" + props.location.search.substring(1));\n\n  if (!!loading || !openMediaItem) { return <Layout>...</Layout> }\n  if (!!error) { return <Layout>:-(</Layout> }\n\n//  console.log(props.location.search.substring(1));\n//  console.log(openMediaItem);\n\n  return (\n    <Layout>\n      <Container>\n        <Card className=\"m-3\" style={{ maxWidth: '1000px' }}>\n            <Card.Header>{openMediaItem?.theme}</Card.Header>\n            <Card.Body>\n                <Card.Title>{openMediaItem?.title}</Card.Title>\n                {openMediaItem?.type === \"media\" ? (\n                    <ShowMedia datafirenode={\"openmediadata/\" +openMediaItem?.content} />) : null}\n\n                <Card.Text>{openMediaItem?.htmlfeedback && <span>{ReactHtmlParser(openMediaItem?.htmlfeedback)}</span>}</Card.Text> \n                <Card.Text>{<span>Ответ: {openMediaItem?.type === \"calculation\" ? ReactHtmlParser(openMediaItem?.comment) : ReactHtmlParser(openMediaItem?.answer)}</span>}</Card.Text>  \n                         \n            </Card.Body>\n        </Card>\n    </Container>\n\n      \n      {/*   <div key={theme}>\n              <Alert variant=\"primary\">{theme}</Alert>\n              {data\n                .filter((quiz) => quiz.theme === theme)\n                .map((quiz) => {\n                  return (\n                    <div key={quiz.id}>\n                      <Alert variant=\"secondary\" className=\"mt-3\">\n                        {!!quiz.avatarUrl ? (\n                          <img\n                            src={quiz.avatarUrl}\n                            alt=\"\"\n                            className=\"m-2\"\n                            style={{\n                              verticalAlign: \"middle\",\n                              width: \"50px\",\n                              height: \"50px\",\n                              borderRadius: \"50%\",\n                              filter: \"grayscale(100%)\",\n                              objectFit: \"cover\",\n                            }}\n                          />\n                        ) : null}\n                        {quiz.title}\n                      </Alert>\n                      <div>\n                      {ReactHtmlParser(quiz.quizString +\n                          `<br>\n                          <span>Ответ: ${quiz.type === \"calculation\" ? quiz.comment : quiz.answer}</span>\n                          <span class=\"ml-5\">Дата/время: ${quiz.date}</span><br>\n                          ${!!quiz.user ? \"Решено: \" + quiz.user : \"\"}\n                          `)}  \n                      </div>      \n                 \n                      \n                    {quiz?.htmlfeedback && <div>{ReactHtmlParser(quiz.htmlfeedback)}</div>}\n\n                      {quiz.type === \"spreadsheet\" && !!quiz?.content && <ShowXlTableArrayOfArrays xlArray={createProtoArray(quiz.content, 0, 0)}/>}\n\n                      {quiz.type === \"calculation\" && <ShowXlTableWithPredefinedIndicators quiz={quiz} xlArray={createProtoArray(quiz.content, 0, 0)}/>}\n\n                      {quiz.type === \"chartwithpredefineddictionarydata\" && <PrepareDataFromDictionaryForChart quiz={quiz}/>}\n                    \n                    </div>\n                  );\n                })}\n            </div>\n          ))}\n      </div> */}\n    </Layout>\n  );\n}\n\n","import React from \"react\";\n\nimport ReactHtmlParser from 'react-html-parser'\n\nimport { useFirebaseNode } from \"../hooks/useFirebaseNode\";\n\n// import ScatterQuotesApexChart from \"./ScatterQuotesApexChart\";\n// import DatalineQuotesApexChart from \"./DatalineQuotesApexChart\";\nimport ApexEmptyOptionsChart from \"./ApexEmptyOptionsChart\";\n\nimport Image from \"react-bootstrap/Image\";\n\nexport default function ShowMedia(props) {\n  const { data: mediaItems, loading, error } = useFirebaseNode(\n    props.datafirenode\n  );\n  //  console.log(props.content, mediaItems);\n\n  if (!!loading || !mediaItems) {\n    return <div>...</div>;\n  }\n  if (!!error) {\n    return <div>:-)</div>;\n  }\n\n  //  console.log(mediaItems);\n\n  return (\n    <div>\n      {Object.keys(mediaItems).map((mediaItem, mediaItemsIndex) => {\n\n        if (mediaItem === \"html\") { return <div key={mediaItemsIndex}>{ReactHtmlParser(mediaItems[mediaItem])}</div> }\n\n        if (mediaItem === \"datetimebarapexchart\" || mediaItem === \"datetimelineapexchart\" ||\n        mediaItem === \"arraycategorieslineapexchart\" || mediaItem === \"arraycategoriesbarapexchart\"\n      ) {\n        return (\n          <GetSeriesCategoriesOptionsForApexChart\n            key={mediaItemsIndex}\n            firenode={mediaItems[mediaItem]}\n            mediaItem={mediaItem}\n          />\n        );\n      }\n\n        if (\n          mediaItem === \"scatterquotesapexchart\" ||\n          mediaItem === \"scatterquotesapexchartoptions\" || \n          mediaItem === \"scatterapexchart\"\n        ) {\n          return (\n            <GetReadyScatterQuotesApexChart\n              key={mediaItemsIndex}\n              firenode={mediaItems[mediaItem]}\n            />\n          );\n        }\n        if (\n          mediaItem === \"datalinequotesapexchart\" ||\n          mediaItem === \"datalinequotesapexchartoptions\" ||\n        mediaItem ===\"datetimeareanocategoriesapexchart\"\n        ) {\n          return (\n            <GetReadyDatalineQuotesApexChart\n              key={mediaItemsIndex}\n              firenode={mediaItems[mediaItem]}\n            />\n          );\n        }\n\n        if (mediaItem === \"images\") {\n          return (\n            <ShowImages key={mediaItemsIndex} urls={mediaItems.images.urls} />\n          );\n        }\n\n        return null;\n      })}\n    </div>\n  );\n}\n\nfunction GetSeriesCategoriesOptionsForApexChart({ firenode, mediaItem }) {\n\n  let series = Object.keys(firenode.series).map((line) => {\n    return {\n      name: firenode[\"series\"][line][\"name\"],\n      data: Object.keys(firenode[\"series\"][line][\"data\"]).map((line_point) => {\n        return firenode[\"series\"][line][\"data\"][line_point]\n      }),\n    };\n  });\n\n  let categories = Object.keys(firenode.categories).map((line_point) => { return firenode.categories[line_point] });\n\n//   console.log(series);\n//   console.log(categories);\n\n  return <ApexEmptyOptionsChart\n    showAs={mediaItem} series={series}\n    options={!!firenode?.options ? firenode.options : {}}\n    categories={categories}\n  />\n}\n\nfunction GetReadyScatterQuotesApexChart({ firenode }) {\n  let series = Object.keys(firenode.series).map((scatter) => {\n    return [firenode[\"series\"][scatter][0], firenode[\"series\"][scatter][1]];\n  });\n  //       console.log(series)\n  return (\n    <ApexEmptyOptionsChart\n      showAs={\"scatterquotesapexchart\"}\n      series={series}\n      options={!!firenode?.options ? firenode.options : {}}\n    />\n  );\n  // <ScatterQuotesApexChart series={series} options={\n  //   !!firenode?.options\n  //     ? firenode.options\n  //     : {}\n  // } />\n}\n\nfunction GetReadyDatalineQuotesApexChart({ firenode }) {\n  let series = Object.keys(firenode.series).map((line) => {\n    return {\n      name: firenode[\"series\"][line][\"name\"],\n      data: Object.keys(firenode[\"series\"][line][\"data\"]).map((line_point) => {\n        return [\n          firenode[\"series\"][line][\"data\"][line_point][0],\n          firenode[\"series\"][line][\"data\"][line_point][1],\n        ];\n      }),\n    };\n  });\n  //    console.log(series);\n  return (\n    <ApexEmptyOptionsChart\n      showAs={\"datalinequotesapexchart\"}\n      // <DatalineQuotesApexChart\n      series={series}\n      options={!!firenode?.options ? firenode.options : {}}\n    />\n  );\n}\n\nfunction ShowImages({ urls }) {\n  return (\n    <>\n      {urls?.[0] ? <Image src={urls[0]} /> : null}\n      {urls?.[1] ? <Image src={urls[1]} /> : null}\n      {urls?.[2] ? <Image src={urls[2]} /> : null}\n      {urls?.[3] ? <Image src={urls[3]} /> : null}\n      {urls?.[4] ? <Image src={urls[4]} /> : null}\n    </>\n  );\n}\n"],"sourceRoot":""}