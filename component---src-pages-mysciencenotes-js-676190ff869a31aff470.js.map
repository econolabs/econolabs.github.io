{"version":3,"sources":["webpack:///./src/pages/mysciencenotes.js"],"names":["MyScienceNotes","userEmail","useSelector","selectApplication","email","replace","React","useState","currentEditId","setCurrentEditId","useFirebaseNode","userNotes","data","loading","error","screenSize","useMedia","notes","Object","keys","map","item","note","id","filter","bg","expand","sticky","className","Brand","size","variant","onClick","key"],"mappings":"8FAAA,kLAkBe,SAASA,IACtB,IACIC,EADUC,YAAYC,KAAmBC,MACvBC,QAAQ,gBAAiB,KAC/C,EAA0CC,IAAMC,SAAS,MAAlDC,EAAP,KAAsBC,EAAtB,KAEA,EAA4CC,YAC1C,gBAAkBT,EAAY,WADlBU,EAAd,EAAQC,KAAiBC,EAAzB,EAAyBA,QAASC,EAAlC,EAAkCA,MAG5BC,EAAaC,YAEjB,CAAC,qBAAsB,qBAAsB,sBAE7C,CAAC,QAAS,SAAU,SAEpB,SAOF,GAAMH,IAAYF,EAAa,OAAO,kBAAC,IAAD,YACtC,GAAMG,EAAS,OAAO,kBAAC,IAAD,YAEtB,IAAIG,EAAQC,OAAOC,KAAKR,GAAWS,KAAI,SAACC,GAAW,OAAOV,EAAUU,MAGpE,OAAMb,EACG,kBAAC,IAAD,KACL,kBAAC,IAAD,CAAoBc,KAAwB,QAAlBd,EAA0B,CAAEe,GAAI,OAAUN,EAAMO,QAAO,SAAAF,GAAI,OAAIA,EAAKC,KAAOf,KAAe,GAAIO,WAAYA,KAIjI,kBAAC,IAAD,KACL,kBAAC,IAAD,CAAQU,GAAG,QAAQC,OAAO,KAAKC,OAAO,MAAMC,UAAU,gCACpD,kBAAC,IAAOC,MAAR,cACA,kBAAC,IAAD,CAAQC,KAAK,KAAKC,QAAQ,oBAAoBC,QAAS,kBAAMvB,EAAiB,SAA9E,QAMCQ,GAASA,EAAMG,KAAI,SAAAE,GAAI,OACxB,kBAAC,IAAD,CAAiBW,IAAKX,EAAKC,GAAID,KAAMA,EAAMb,iBAAkBA","file":"component---src-pages-mysciencenotes-js-676190ff869a31aff470.js","sourcesContent":["import React from \"react\";\n//import { useForm } from \"react-hook-form\";\nimport { useFirebaseNode } from \"../hooks/useFirebaseNode\";\nimport { useSelector } from \"react-redux\";\n\nimport Layout from \"../components/layout\";\n\nimport { selectApplication } from \"../features/application/applicationSlice\";\nimport useMedia from \"../hooks/useMedia\";\n\nimport ScienceNotesEditor, { ScienceNoteCard } from \"../mediatemplates/ScienceNotesEditor\";\n\n\nimport Button from \"react-bootstrap/Button\";\nimport Navbar from \"react-bootstrap/Navbar\";\n\nimport \"../mediatemplates/ScienceNotes.css\";\n\nexport default function MyScienceNotes() {\n  const email = useSelector(selectApplication).email;\n  let userEmail = email.replace(/[^a-zA-Z0-9]/g, \"_\");\n  const [currentEditId, setCurrentEditId] = React.useState(null);\n\n  const { data: userNotes, loading, error } = useFirebaseNode(\n    \"usersScience/\" + userEmail + \"/notes/\"\n  );\n  const screenSize = useMedia(\n    // Media queries\n    [\"(min-width: 810px)\", \"(min-width: 400px)\", \"(min-width: 100px)\"],\n    // Column counts (relates to above media queries by array index)\n    [\"large\", \"medium\", \"small\"],\n    // Default column count\n    \"large\"\n  );\n\n  //const { register, handleSubmit } = useForm();\n\n // const onSubmit = data => console.log(data);\n\n  if (!!loading || !userNotes) { return <Layout>...</Layout> }\n  if (!!error) { return <Layout>:-(</Layout> }\n\n  let notes = Object.keys(userNotes).map((item) => { return userNotes[item] });\n\n\n  if (!!currentEditId) {\n    return <Layout>\n      <ScienceNotesEditor note={currentEditId === \"new\" ? { id: \"new\" } : notes.filter(note => note.id === currentEditId)[0]} screenSize={screenSize} />\n    </Layout>\n  }\n\n  return <Layout>\n    <Navbar bg=\"light\" expand=\"sm\" sticky=\"top\" className=\"mb-2 justify-content-between\">\n      <Navbar.Brand >Notes</Navbar.Brand>\n      <Button size=\"sm\" variant=\"outline-secondary\" onClick={() => setCurrentEditId(\"new\")}>+</Button>\n      {/* <Form inline onSubmit={handleSubmit(onSubmit)} className=\"mt-0 mb-0\">\n          <FormControl {...register(\"search_string\")} className=\"mr-sm-2\" />\n          <Button size=\"sm\" variant=\"outline-secondary\" type=\"submit\"><SVGBootstrapIconSearch /></Button>\n        </Form> */}\n    </Navbar>\n    {!!notes && notes.map(note =>\n      <ScienceNoteCard key={note.id} note={note} setCurrentEditId={setCurrentEditId} />\n    )}\n  </Layout>\n}\n\n\n"],"sourceRoot":""}