{"version":3,"sources":["webpack:///./node_modules/react-bootstrap/esm/BreadcrumbItem.js","webpack:///./node_modules/react-bootstrap/esm/Breadcrumb.js","webpack:///./src/pages/mylibrary.js"],"names":["_excluded","BreadcrumbItem","forwardRef","_ref","ref","bsPrefix","active","children","className","_ref$as","as","Component","_ref$linkAs","linkAs","LinkComponent","SafeAnchor","linkProps","href","title","target","props","prefix","createElement","undefined","displayName","defaultProps","Breadcrumb","listProps","label","Item","fireNodes","id","type","source","fireNodeId","MyLibrary","userEmail","useSelector","selectApplication","email","replace","useFirebaseNode","userLibrary","data","loading","error","console","log","libraryItems","Object","keys","map","item","MyLibraryLayout","React","useState","useImmer","libraryContent","updateLibraryContent","level1","level2","level3","level4","level5","libraryState","updateLibraryState","onSave","length","updates","firebase","database","update","then","updateLibrary","command","option","draft","Container","Row","Col","style","minWidth","onClick","ShowBooks","books","filter","addBook","book_title","push","key","ShowChapters","chapters","addChapter","chapter_title","ShowSubChapters","subchapters","ShowIdeas","ideas","ShowScienceNotes","sciencenotes","open","setOpen","useForm","register","handleSubmit","book","Button","variant","aria-controls","aria-expanded","size","Collapse","in","Form","onSubmit","Group","controlId","Label","Control","rows","block","chapter","subchapter","idea","sciencenote","ShowScienceNote","userNote","note"],"mappings":"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","file":"component---src-pages-mylibrary-js-a7cc724b19593ebb8b9f.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"active\", \"children\", \"className\", \"as\", \"linkAs\", \"linkProps\", \"href\", \"title\", \"target\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport SafeAnchor from './SafeAnchor';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar defaultProps = {\n  active: false,\n  linkProps: {}\n};\nvar BreadcrumbItem = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      active = _ref.active,\n      children = _ref.children,\n      className = _ref.className,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'li' : _ref$as,\n      _ref$linkAs = _ref.linkAs,\n      LinkComponent = _ref$linkAs === void 0 ? SafeAnchor : _ref$linkAs,\n      linkProps = _ref.linkProps,\n      href = _ref.href,\n      title = _ref.title,\n      target = _ref.target,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'breadcrumb-item');\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(prefix, className, {\n      active: active\n    }),\n    \"aria-current\": active ? 'page' : undefined\n  }), active ? children : /*#__PURE__*/React.createElement(LinkComponent, _extends({}, linkProps, {\n    href: href,\n    title: title,\n    target: target\n  }), children));\n});\nBreadcrumbItem.displayName = 'BreadcrumbItem';\nBreadcrumbItem.defaultProps = defaultProps;\nexport default BreadcrumbItem;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"className\", \"listProps\", \"children\", \"label\", \"as\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport BreadcrumbItem from './BreadcrumbItem';\nvar defaultProps = {\n  label: 'breadcrumb',\n  listProps: {}\n};\nvar Breadcrumb = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      listProps = _ref.listProps,\n      children = _ref.children,\n      label = _ref.label,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'nav' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'breadcrumb');\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    \"aria-label\": label,\n    className: className,\n    ref: ref\n  }, props), /*#__PURE__*/React.createElement(\"ol\", _extends({}, listProps, {\n    className: classNames(prefix, listProps == null ? void 0 : listProps.className)\n  }), children));\n});\nBreadcrumb.displayName = 'Breadcrumb';\nBreadcrumb.defaultProps = defaultProps;\nBreadcrumb.Item = BreadcrumbItem;\nexport default Breadcrumb;","import React from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useFirebaseNode } from \"../hooks/useFirebaseNode\";\nimport { useSelector } from \"react-redux\";\nimport { useImmer } from \"use-immer\";\nimport firebase from \"gatsby-plugin-firebase\";\n\nimport Layout from \"../components/layout\";\n\nimport { selectApplication } from \"../features/application/applicationSlice\";\nimport useMedia from \"../hooks/useMedia\";\n\nimport ScienceNotesEditor, { ScienceNoteCard } from \"../mediatemplates/ScienceNotesEditor\";\nimport BookEditor from \"../mediatemplates/BookEditor\";\n\nimport Collapse from \"react-bootstrap/Collapse\";\nimport Button from \"react-bootstrap/Button\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Breadcrumb from \"react-bootstrap/Breadcrumb\";\n\nimport Form from \"react-bootstrap/Form\";\nimport FormControl from \"react-bootstrap/FormControl\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport Nav from \"react-bootstrap/Nav\";\n\n\nimport { SVGBootstrapIconPencilSquare, SVGBootstrapIconSearch, SVGBootstrapIconEnvelopeOpen } from \"../svgs\";\n\n\nimport ReactHtmlParser from 'react-html-parser'; //, { processNodes, convertNodeToElement, htmlparser2 }\n\nimport \"../mediatemplates/ScienceNotes.css\";\n\nlet fireNodes = [\n  { id: 1, type: \"book\", title: \"Книга 1\" },\n  { id: 2, type: \"book\", title: \"Книга 2\" },\n  { id: 3, type: \"book\", title: \"Книга 3\" },\n\n  { id: 4, type: \"chapter\", title: \"Глава 1 Книги 1\", source: \"Книга 1\" },\n  { id: 5, type: \"chapter\", title: \"Глава 2 Книги 1\", source: \"Книга 1\" },\n  { id: 6, type: \"chapter\", title: \"Глава 3 Книги 1\", source: \"Книга 1\" },\n\n  { id: 13, type: \"subchapter\", title: \"Параграф 1 Главы 1 Книги 1\", source: \"Глава 1 Книги 1\" },\n  { id: 14, type: \"subchapter\", title: \"Параграф 2 Главы 1 Книги 1\", source: \"Глава 1 Книги 1\" },\n  { id: 15, type: \"subchapter\", title: \"Параграф 3 Главы 1 Книги 1\", source: \"Глава 1 Книги 1\" },\n\n  { id: 16, type: \"idea\", title: \"Идея 1 Параграфа 1 Главы 1 Книги 1\", source: \"Параграф 1 Главы 1 Книги 1\" },\n  { id: 17, type: \"idea\", title: \"Идея 2 Параграфа 1 Главы 1 Книги 1\", source: \"Параграф 1 Главы 1 Книги 1\" },\n  { id: 18, type: \"idea\", title: \"Идея 3 Параграфа 1 Главы 1 Книги 1\", source: \"Параграф 1 Главы 1 Книги 1\" },\n\n  { id: 19, type: \"sciencenote\", title: \"Note 1\", source: \"Идея 1 Параграфа 1 Главы 1 Книги 1\", fireNodeId: \"-Mcryv4ypZu5k136cd1h\" },\n  { id: 20, type: \"sciencenote\", title: \"Note 2\", source: \"Идея 1 Параграфа 1 Главы 1 Книги 1\", fireNodeId: \"-Mcs53WMJfo-bpk9_vd5\" },\n  { id: 21, type: \"sciencenote\", title: \"Note 3\", source: \"Идея 1 Параграфа 1 Главы 1 Книги 1\", fireNodeId: \"-Mcz_KoaEbhmU2yvGvJI\" },\n\n  { id: 7, type: \"chapter\", title: \"Глава 1 Книги 2\", source: \"Книга 2\" },\n  { id: 8, type: \"chapter\", title: \"Глава 2 Книги 2\", source: \"Книга 2\" },\n  { id: 9, type: \"chapter\", title: \"Глава 3 Книги 2\", source: \"Книга 2\" },\n  { id: 10, type: \"chapter\", title: \"Глава 1 Книги 3\", source: \"Книга 3\" },\n  { id: 11, type: \"chapter\", title: \"Глава 2 Книги 3\", source: \"Книга 3\" },\n  { id: 12, type: \"chapter\", title: \"Глава 3 Книги 3\", source: \"Книга 3\" },\n]\n\nexport default function MyLibrary() {\n  const email = useSelector(selectApplication).email;\n  let userEmail = email.replace(/[^a-zA-Z0-9]/g, \"_\");\n\n  const { data: userLibrary, loading, error } = useFirebaseNode(\n    \"usersScience/\" + userEmail + \"/library/\"\n  );\n\n  console.log(userLibrary);\n\n  if (!!loading) { return <Layout>...</Layout> }\n  if (!!error) { return <Layout>:-(</Layout> }\n\n\n\n  let libraryItems = !!userLibrary ? Object.keys(userLibrary).map((item) => { return userLibrary[item] }) : null;\n\n  return <MyLibraryLayout libraryItems={libraryItems} />\n}\n\nfunction MyLibraryLayout({ libraryItems }) {\n  // const [data, setData] = React.useState(null);\n  const email = useSelector(selectApplication).email;\n  let userEmail = email.replace(/[^a-zA-Z0-9]/g, \"_\");\n  //const avatarUrl = useSelector(selectApplication).avatarUrl;\n  //const user = useSelector(selectApplication).user;\n  const [currentEditId, setCurrentEditId] = React.useState(null);\n  const [currentFullMode, setCurrentFullMode] = React.useState(null);\n\n  const [libraryContent, updateLibraryContent] = useImmer(!!libraryItems ? libraryItems : fireNodes);\n\n  const [libraryState, updateLibraryState] = useImmer({\n    level1: \"Книги\",\n    level2: \"Книга\",\n    level3: \"Главы\",\n    level4: \"Параграфы\",\n    level5: \"Идеи\"\n  });\n\n  function onSave() {\n    if (email.length > 6) {\n      var updates = {};\n      updates[\"usersScience/\" + userEmail + \"/library/\"] = libraryContent;\n      return firebase\n        .database()\n        .ref()\n        .update(updates)\n        .then(() => {\n          console.log('Success!!!')\n          //      DoSavedSuccessfully(true);\n          //      doEditPostTitleComment(false);\n        });\n    }\n  }\n\n\n  function addBook(book_title) {\n    updateLibraryContent(draft => {\n      draft.push({\n        id: firebase.database().ref(\"usersScience/\" + userEmail + \"/library/\").push().key,\n        type: \"book\",\n        title: book_title\n      })\n    });\n    onSave();\n  }\n\n  function addChapter(chapter_title) {\n    updateLibraryContent(draft => {\n      draft.push({\n        id: firebase.database().ref(\"usersScience/\" + userEmail + \"/library/\").push().key,\n        type: \"chapter\",\n        title: chapter_title,\n        source: libraryState.level2\n      })\n    });\n    onSave();\n  }\n\n  function addSubChapter(subchapter_title) {\n    updateLibraryContent(draft => {\n      draft.push({\n        id: firebase.database().ref(\"usersScience/\" + userEmail + \"/library/\").push().key,\n        type: \"subchapter\",\n        title: subchapter_title,\n        source: libraryState.level3\n      })\n    });\n    onSave();\n  }\n\n  function addIdea(idea_title) {\n    updateLibraryContent(draft => {\n      draft.push({\n        id: firebase.database().ref(\"usersScience/\" + userEmail + \"/library/\").push().key,\n        type: \"idea\",\n        title: idea_title,\n        source: libraryState.level4\n      })\n    });\n    onSave();\n  }\n\n  function addScienceNote(sciencenote_title) {\n    updateLibraryContent(draft => {\n      draft.push({\n        id: firebase.database().ref(\"usersScience/\" + userEmail + \"/library/\").push().key,\n        type: \"sciencenote\",\n        title: sciencenote_title,\n        source: libraryState.level5\n      })\n    });\n    onSave();\n  }\n\n\n  function updateLibrary(command = null, option = null) {\n    if (command === 'ShowAllBooks') {\n      updateLibraryState(draft => {\n        draft.level1 = 'Книги';\n        draft.level2 = 'Книга';\n        draft.level3 = 'Главы';\n        draft.level4 = 'Параграфы';\n        draft.level5 = 'Идеи'\n      })\n    }\n\n    if (command === 'ShowAllChapters') {\n      updateLibraryState(draft => {\n        draft.level3 = 'Главы';\n        draft.level4 = 'Параграфы';\n        draft.level5 = 'Идеи';\n      })\n    }\n\n    if (command === 'ShowAllSubChapters') {\n      updateLibraryState(draft => {\n        draft.level4 = 'Параграфы';\n        draft.level5 = 'Идеи';\n      })\n    }\n\n    if (command === 'ShowAllIdeas') {\n      updateLibraryState(draft => {\n        draft.level5 = 'Идеи';\n      })\n    }\n\n\n\n\n    if (command === 'SelectBook') {\n      updateLibraryState(draft => {\n        draft.level2 = option;\n      })\n    }\n\n    if (command === 'SelectChapter') {\n      updateLibraryState(draft => {\n        draft.level3 = option;\n      })\n    }\n\n    if (command === 'SelectSubChapter') {\n      updateLibraryState(draft => {\n        draft.level4 = option;\n      })\n    }\n\n    if (command === 'SelectIdea') {\n      updateLibraryState(draft => {\n        draft.level5 = option;\n      })\n    }\n\n  }\n\n\n\n\n\n\n\n  // if (!!currentEditId) {\n  //   return <Layout>\n  //     <ScienceNotesEditor note={currentEditId === \"new\" ? { id: \"new\" } : notes.filter(note => note.id === currentEditId)[0]} screenSize={screenSize} />\n  //   </Layout>\n  //   //    return <SmallScreenCalculations />;\n  // }\n\n  console.log(libraryState);\n\n  // if (screenSize !== \"large\") {\n  //   return <Layout>\n  //     Small Library\n  //   </Layout>  \n  // }\n\n  return (\n    <Layout>\n      <Container>\n        <Row>\n          <Col>\n            <Breadcrumb style={{ minWidth: \"30rem\" }}>\n              <Breadcrumb.Item onClick={() => updateLibrary('ShowAllBooks')}>{libraryState.level1}</Breadcrumb.Item>\n              <Breadcrumb.Item onClick={() => updateLibrary('ShowAllChapters')}>{libraryState.level2}</Breadcrumb.Item>\n              <Breadcrumb.Item onClick={() => updateLibrary('ShowAllSubChapters')}>{libraryState.level3}</Breadcrumb.Item>\n              <Breadcrumb.Item onClick={() => updateLibrary('ShowAllIdeas')}>{libraryState.level4}</Breadcrumb.Item>\n              <Breadcrumb.Item active >{libraryState.level5}</Breadcrumb.Item>\n            </Breadcrumb>\n            {libraryState.level1 === \"Книги\" && libraryState.level2 === \"Книга\" ?\n              <ShowBooks\n                books={libraryContent.filter(item => item.type === \"book\")}\n                updateLibrary={updateLibrary}\n                addBook={addBook}\n              />\n              : null}\n            {libraryState.level2 !== \"Книга\" && libraryState.level3 === \"Главы\" ?\n              <ShowChapters\n                chapters={libraryContent.filter(item => item.type === \"chapter\" && item.source === libraryState.level2)}\n                updateLibrary={updateLibrary}\n                addChapter={addChapter}\n              />\n              : null}\n            {libraryState.level3 !== \"Главы\" && libraryState.level4 === \"Параграфы\" ?\n              <ShowSubChapters\n                subchapters={libraryContent.filter(item => item.type === \"subchapter\" && item.source === libraryState.level3)}\n                updateLibrary={updateLibrary}\n              />\n              : null}\n            {libraryState.level4 !== \"Параграфы\" ?\n              <ShowIdeas\n                ideas={libraryContent.filter(item => item.type === \"idea\" && item.source === libraryState.level4)}\n                updateLibrary={updateLibrary}\n              />\n              : null}\n\n\n          </Col>\n          <Col>\n            {/* <BookEditor /> */}\n            {libraryState.level5 !== \"Идеи\" ?\n              <ShowScienceNotes\n                sciencenotes={libraryContent.filter(item => item.type === \"sciencenote\" && item.source === libraryState.level5)}\n                updateLibrary={updateLibrary}\n              />\n              : <div>Выберите пункт</div>}\n          </Col>\n        </Row>\n      </Container>\n    </Layout>\n  );\n}\n\nfunction ShowBooks({ books = [], updateLibrary = null, addBook }) {\n  const [open, setOpen] = React.useState(false);\n  const { register, handleSubmit } = useForm();\n\n  const onSubmit = data => {\n    console.log(data);\n    addBook(data.book_title);\n    setOpen(false);\n  }\n\n  console.log(books)\n\n  return <Container>\n    {!!books && books.map(book => <div key={book.id} onClick={() => updateLibrary(\"SelectBook\", book.title)}>\n      {book.title}\n    </div>)}\n\n    <Button\n      onClick={() => setOpen(!open)}\n      variant=\"outline-secondary\"\n      aria-controls=\"add_book_collapse\"\n      aria-expanded={open}\n      size=\"sm\"\n    >\n      +\n    </Button>\n    <Collapse in={open}>\n      <div id=\"add_book_collapse\">\n        <Form onSubmit={handleSubmit(onSubmit)}>\n\n          <Form.Group controlId={\"book_name\"}>\n            <Form.Label className=\"small text-muted\">Добавить книгу</Form.Label>\n            <Form.Control\n              {...register(\"book_title\")}\n              as=\"textarea\"\n              rows=\"2\"\n            />\n            {/* <Form.Text className=\"text-muted\">Пример: =NPV(0.1;100,200,300)-500</Form.Text> */}\n          </Form.Group>\n          <Button\n            variant=\"outline-secondary\"\n\n            type=\"submit\"\n            size=\"sm\"\n            block\n          >\n            Сохранить\n          </Button>\n        </Form>\n      </div>\n    </Collapse>\n\n  </Container>\n}\n\nfunction ShowChapters({ chapters = [], updateLibrary = null, addChapter }) {\n  const [open, setOpen] = React.useState(false);\n  const { register, handleSubmit } = useForm();\n\n  const onSubmit = data => {\n    console.log(data);\n    addChapter(data.chapter_title);\n    setOpen(false);\n  }\n\n  console.log(chapters)\n  return <Container>\n    {!!chapters && chapters.map(chapter => <div key={chapter.id} onClick={() => updateLibrary('SelectChapter', chapter.title)}>\n      {chapter.title}\n    </div>)}\n    <Button\n      onClick={() => setOpen(!open)}\n      variant=\"outline-secondary\"\n      aria-controls=\"add_chapter_collapse\"\n      aria-expanded={open}\n      size=\"sm\"\n    >\n      +\n    </Button>\n    <Collapse in={open}>\n      <div id=\"add_chapter_collapse\">\n        <Form onSubmit={handleSubmit(onSubmit)}>\n\n          <Form.Group controlId={\"chapter_name\"}>\n            <Form.Label className=\"small text-muted\">Добавить главу</Form.Label>\n            <Form.Control\n              {...register(\"chapter_title\")}\n              as=\"textarea\"\n              rows=\"2\"\n            />\n            {/* <Form.Text className=\"text-muted\">Пример: =NPV(0.1;100,200,300)-500</Form.Text> */}\n          </Form.Group>\n          <Button\n            variant=\"outline-secondary\"\n            type=\"submit\"\n            size=\"sm\"\n            block\n          >\n            Сохранить\n          </Button>\n        </Form>\n      </div>\n    </Collapse>\n  </Container>\n}\n\nfunction ShowSubChapters({ subchapters = [], updateLibrary = null }) {\n  const [open, setOpen] = React.useState(false);\n  const { register, handleSubmit } = useForm();\n\n  const onSubmit = data => console.log(data);\n\n  console.log(subchapters)\n\n  return <Container>\n    {!!subchapters && subchapters.map(subchapter => <div key={subchapter.id} onClick={() => updateLibrary('SelectSubChapter', subchapter.title)}>\n      {subchapter.title}\n    </div>)}\n    <Button\n      onClick={() => setOpen(!open)}\n      variant=\"outline-secondary\"\n      aria-controls=\"add_subchapter_collapse\"\n      aria-expanded={open}\n      size=\"sm\"\n    >\n      +\n    </Button>\n    <Collapse in={open}>\n      <div id=\"add_subchapter_collapse\">\n        <Form onSubmit={handleSubmit(onSubmit)}>\n\n          <Form.Group controlId={\"subchapter_name\"}>\n            <Form.Label className=\"small text-muted\">Добавить параграф</Form.Label>\n            <Form.Control\n              {...register(\"subchapter_title\")}\n              as=\"textarea\"\n              rows=\"2\"\n            />\n            {/* <Form.Text className=\"text-muted\">Пример: =NPV(0.1;100,200,300)-500</Form.Text> */}\n          </Form.Group>\n          <Button\n            variant=\"outline-secondary\"\n            type=\"submit\"\n            size=\"sm\"\n            block\n          >\n            Сохранить\n          </Button>\n        </Form>\n      </div>\n    </Collapse>\n\n  </Container>\n}\n\nfunction ShowIdeas({ ideas = [], updateLibrary = null }) {\n  const [open, setOpen] = React.useState(false);\n  const { register, handleSubmit } = useForm();\n\n  const onSubmit = data => console.log(data);\n\n  console.log(ideas)\n  return <Container>\n    {!!ideas && ideas.map(idea => <div key={idea.id} onClick={() => updateLibrary('SelectIdea', idea.title)}>\n      {idea.title}\n    </div>)}\n    <Button\n      onClick={() => setOpen(!open)}\n      variant=\"outline-secondary\"\n      aria-controls=\"add_idea_collapse\"\n      aria-expanded={open}\n      size=\"sm\"\n    >\n      +\n    </Button>\n    <Collapse in={open}>\n      <div id=\"add_idea_collapse\">\n        <Form onSubmit={handleSubmit(onSubmit)}>\n\n          <Form.Group controlId={\"idea_name\"}>\n            <Form.Label className=\"small text-muted\">Добавить идею</Form.Label>\n            <Form.Control\n              {...register(\"idea_title\")}\n              as=\"textarea\"\n              rows=\"2\"\n            />\n            {/* <Form.Text className=\"text-muted\">Пример: =NPV(0.1;100,200,300)-500</Form.Text> */}\n          </Form.Group>\n          <Button\n            variant=\"outline-secondary\"\n            type=\"submit\"\n            size=\"sm\"\n            block\n          >\n            Сохранить\n          </Button>\n        </Form>\n      </div>\n    </Collapse>\n  </Container>\n}\n\nfunction ShowScienceNotes({ sciencenotes = [], updateLibrary = null }) {\n  console.log(sciencenotes)\n  return <Container className=\"mt-5\">\n    {!!sciencenotes && sciencenotes.map(sciencenote => <div key={sciencenote.id} > {/* onClick={() => updateLibrary('SelectIdea', sciencenote.title)} */}\n      <ShowScienceNote sciencenote={sciencenote} />\n    </div>)}\n  </Container>\n}\n\nfunction ShowScienceNote({ sciencenote }) {\n  const email = useSelector(selectApplication).email;\n  let userEmail = email.replace(/[^a-zA-Z0-9]/g, \"_\");\n  const { data: userNote, loading, error } = useFirebaseNode(\n    \"usersScience/\" + userEmail + \"/notes/\" + sciencenote.fireNodeId\n  );\n\n  if (!!loading || !userNote) { return <div>...</div> }\n  if (!!error) { return <div>:-(</div> }\n\n  return <ScienceNoteCard note={userNote} />\n}\n\n\n\n\n\n\n\n\n"],"sourceRoot":""}