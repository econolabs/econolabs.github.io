(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"/2Ve":function(e,t,n){},"8ypT":function(e,t,n){},Bl7J:function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),l=n("Wbzz"),i=function(e){var t=e.siteTitle;return r.a.createElement("nav",{className:"navbar  navbar-light bg-light "}," ",r.a.createElement("h3",{style:{margin:0}},r.a.createElement(l.Link,{to:"/",style:{color:"gray",textDecoration:"none"}},t)),r.a.createElement("a",{className:"navbar-brand",href:"https://vk.com/id151078439"},r.a.createElement("img",{src:"https://sun9-37.userapi.com/c317630/v317630439/76a0/Bz6QTfBog0I.jpg?ava=1",alt:"",style:{verticalAlign:"middle",width:"40px",height:"40px",borderRadius:"50%",filter:"grayscale(100%)",objectFit:"cover"}})))};i.defaultProps={siteTitle:""};var c=i;n("8ypT"),t.a=function(e){var t=e.children,n=Object(l.useStaticQuery)("2326376460");return r.a.createElement(r.a.Fragment,null,r.a.createElement(c,{siteTitle:n.site.siteMetadata.title}),r.a.createElement("div",{style:{margin:"0 auto",maxWidth:800,padding:"2rem"}},r.a.createElement("main",null,t),r.a.createElement("footer",null,r.a.createElement("span",{style:{color:"darkgray"}},"© ",(new Date).getFullYear(),", "," ",r.a.createElement("a",{href:"https://vk.com/id151078439",style:{color:"darkgray"}},n.site.siteMetadata.author)))))}},Wwog:function(e,t,n){"use strict";var a=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function r(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],l=t[n],!(r===l||a(r)&&a(l)))return!1;var r,l;return!0}t.a=function(e,t){var n;void 0===t&&(t=r);var a,l=[],i=!1;return function(){for(var r=[],c=0;c<arguments.length;c++)r[c]=arguments[c];return i&&n===this&&t(r,l)||(a=e.apply(this,r),i=!0,n=this,l=r),a}}},"jj+N":function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return d}));var a=function(e,t){if(!e)throw new Error("Invariant failed")},r=function(e){var t=e.top,n=e.right,a=e.bottom,r=e.left;return{top:t,right:n,bottom:a,left:r,width:n-r,height:a-t,x:r,y:t,center:{x:(n+r)/2,y:(a+t)/2}}},l=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},i=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},c={top:0,right:0,bottom:0,left:0},o=function(e){var t=e.borderBox,n=e.margin,a=void 0===n?c:n,o=e.border,u=void 0===o?c:o,s=e.padding,d=void 0===s?c:s,m=r(l(t,a)),f=r(i(t,u)),b=r(i(f,d));return{marginBox:m,borderBox:r(t),paddingBox:f,contentBox:b,margin:a,border:u,padding:d}},u=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&a(!1),n},s=function(e,t){var n,a,r=e.borderBox,l=e.border,i=e.margin,c=e.padding,u=(a=t,{top:(n=r).top+a.y,left:n.left+a.x,bottom:n.bottom+a.y,right:n.right+a.x});return o({borderBox:u,border:l,margin:i,padding:c})},d=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),s(e,t)},m=function(e,t){var n={top:u(t.marginTop),right:u(t.marginRight),bottom:u(t.marginBottom),left:u(t.marginLeft)},a={top:u(t.paddingTop),right:u(t.paddingRight),bottom:u(t.paddingBottom),left:u(t.paddingLeft)},r={top:u(t.borderTopWidth),right:u(t.borderRightWidth),bottom:u(t.borderBottomWidth),left:u(t.borderLeftWidth)};return o({borderBox:e,margin:n,padding:a,border:r})},f=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return m(t,n)}},mHlH:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return l}));var a=n("q1tI");function r(e,t){var n=Object(a.useState)((function(){return{inputs:t,result:e()}}))[0],r=Object(a.useRef)(!0),l=Object(a.useRef)(n),i=r.current||Boolean(t&&l.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,l.current.inputs))?l.current:{inputs:t,result:e()};return Object(a.useEffect)((function(){r.current=!1,l.current=i}),[i]),i.result}var l=r,i=function(e,t){return r((function(){return e}),t)}},u5oS:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return q}));var a=n("q1tI"),r=n.n(a),l=n("NKCw"),i=n("jFIn"),c=n("/MKj"),o=n("raqg"),u=n("y6RJ"),s=n("Bl7J"),d=n("VU5L"),m=n("Qu+8"),f=n("vEsD"),b=n("KQm4"),p=n("rePB"),v=n("ngQI"),h=n("cWnB");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var E=function(e,t){return void 0===t&&(t=0),e.map((function(n,a){return{id:"item-"+(e[a].id+t)+"-"+(new Date).getTime(),content:e[a].title}}))},y=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({userSelect:"none",padding:16,margin:"0 0 8px 0",background:e?"lightgreen":"grey"},t)};function k(e){var t=e.items,n=e.possibleItems,l=e.updatedList,i=Object(a.useState)([E(t),E(n,10)]),c=i[0],o=i[1];return r.a.createElement("div",null,r.a.createElement(h.a,{variant:"outline-light",size:"sm",onClick:function(){l(c[0])}},"Сохр"),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(v.a,{onDragEnd:function(e){var t=e.source,n=e.destination;if(n){var a=+t.droppableId,r=+n.droppableId;if(a===r){var l=function(e,t,n){var a=Array.from(e),r=a.splice(t,1)[0];return a.splice(n,0,r),a}(c[a],t.index,n.index),i=Object(b.a)(c);i[a]=l,o(i)}else{var u=function(e,t,n,a){var r=Array.from(e),l=Array.from(t),i=r.splice(n.index,1)[0];l.splice(a.index,0,i);var c={};return c[n.droppableId]=r,c[a.droppableId]=l,c}(c[a],c[r],t,n),s=Object(b.a)(c);s[a]=u[a],s[r]=u[r],o(s.filter((function(e){return e.length})))}}}},c.map((function(e,t){return r.a.createElement(v.c,{key:t,droppableId:""+t},(function(n,a){return r.a.createElement("div",Object.assign({ref:n.innerRef,style:(l=a.isDraggingOver,{background:l?"lightblue":"lightgrey",padding:8,width:250})},n.droppableProps),e.map((function(e,n){return r.a.createElement(v.b,{key:e.id,draggableId:e.id,index:n},(function(a,l){var i;return r.a.createElement("div",Object.assign({ref:a.innerRef},a.draggableProps,a.dragHandleProps,{style:y(l.isDragging,a.draggableProps.style)}),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("small",{className:"text-white"},e.content),r.a.createElement(h.a,((i={type:"button",variant:"outline-light",size:"sm"}).type="button",i.onClick=function(){var e=Object(b.a)(c);e[t].splice(n,1),o(e.filter((function(e){return e.length})))},i),"X")))}))})),n.placeholder);var l}))})))))}var O=n("vYJ8"),j=n("7vrA"),w=n("3Z9Z"),S=n("JI6e"),_=n("wx14"),x=n("zLVn"),C=n("TSYQ"),I=n.n(C),P=n("vUet"),N=n("dbZe"),B=["bsPrefix","active","children","className","as","linkAs","linkProps","href","title","target"],z=r.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.active,l=e.children,i=e.className,c=e.as,o=void 0===c?"li":c,u=e.linkAs,s=void 0===u?N.a:u,d=e.linkProps,m=e.href,f=e.title,b=e.target,p=Object(x.a)(e,B),v=Object(P.a)(n,"breadcrumb-item");return r.a.createElement(o,Object(_.a)({ref:t},p,{className:I()(v,i,{active:a}),"aria-current":a?"page":void 0}),a?l:r.a.createElement(s,Object(_.a)({},d,{href:m,title:f,target:b}),l))}));z.displayName="BreadcrumbItem",z.defaultProps={active:!1,linkProps:{}};var L=z,A=["bsPrefix","className","listProps","children","label","as"],D=r.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.className,l=e.listProps,i=e.children,c=e.label,o=e.as,u=void 0===o?"nav":o,s=Object(x.a)(e,A),d=Object(P.a)(n,"breadcrumb");return r.a.createElement(u,Object(_.a)({"aria-label":c,className:a,ref:t},s),r.a.createElement("ol",Object(_.a)({},l,{className:I()(d,null==l?void 0:l.className)}),i))}));D.displayName="Breadcrumb",D.defaultProps={label:"breadcrumb",listProps:{}},D.Item=L;var R=D,T=n("QojX");n("/2Ve");function q(){var e=Object(c.d)(d.b).email.replace(/[^a-zA-Z0-9]/g,"_"),t=Object(i.a)("usersScience/"+e+"/library/"),n=t.data,a=t.loading,l=t.error;if(console.log(n),a)return r.a.createElement(s.a,null,"...");if(l)return r.a.createElement(s.a,null,":-(");var o=n?Object.keys(n).map((function(e){return n[e]})):null;return r.a.createElement(J,{libraryItems:o})}function J(e){var t=e.libraryItems,n=Object(c.d)(d.b).email,a=n.replace(/[^a-zA-Z0-9]/g,"_"),l=Object(o.a)(t||[]),i=l[0],m=l[1],f=Object(o.a)({level1:"Книги",level2:"Книга",level3:"Главы",level4:"Параграфы",level5:"Идеи"}),b=f[0],p=f[1];function v(){if(n.length>6){var e={};return e["usersScience/"+a+"/library/"]=i,u.a.database().ref().update(e).then((function(){console.log("Success!!!")}))}}function h(e,t){void 0===e&&(e=null),void 0===t&&(t=null),"ShowAllBooks"===e&&p((function(e){e.level1="Книги",e.level2="Книга",e.level3="Главы",e.level4="Параграфы",e.level5="Идеи"})),"ShowAllChapters"===e&&p((function(e){e.level3="Главы",e.level4="Параграфы",e.level5="Идеи"})),"ShowAllSubChapters"===e&&p((function(e){e.level4="Параграфы",e.level5="Идеи"})),"ShowAllIdeas"===e&&p((function(e){e.level5="Идеи"})),"SelectBook"===e&&p((function(e){e.level2=t})),"SelectChapter"===e&&p((function(e){e.level3=t})),"SelectSubChapter"===e&&p((function(e){e.level4=t})),"SelectIdea"===e&&p((function(e){e.level5=t}))}return console.log(b),r.a.createElement(s.a,null,r.a.createElement(j.a,null,r.a.createElement(w.a,null,r.a.createElement(S.a,null,r.a.createElement(R,{style:{minWidth:"30rem"}},r.a.createElement(R.Item,{onClick:function(){return h("ShowAllBooks")}},b.level1),r.a.createElement(R.Item,{onClick:function(){return h("ShowAllChapters")}},b.level2),r.a.createElement(R.Item,{onClick:function(){return h("ShowAllSubChapters")}},b.level3),r.a.createElement(R.Item,{onClick:function(){return h("ShowAllIdeas")}},b.level4),r.a.createElement(R.Item,{active:!0},b.level5)),"Книги"===b.level1&&"Книга"===b.level2?r.a.createElement(Q,{books:i.filter((function(e){return"book"===e.type})),updateLibrary:h,addBook:function(e){m((function(t){t.push({id:u.a.database().ref("usersScience/"+a+"/library/").push().key,type:"book",title:e})})),v()}}):null,"Книга"!==b.level2&&"Главы"===b.level3?r.a.createElement(W,{chapters:i.filter((function(e){return"chapter"===e.type&&e.sourceId===i.filter((function(e){return"book"===e.type&&e.title===b.level2}))[0].id})),updateLibrary:h,addChapter:function(e){m((function(t){t.push({id:u.a.database().ref("usersScience/"+a+"/library/").push().key,type:"chapter",title:e,source:b.level2,sourceId:i.filter((function(e){return"book"===e.type&&e.title===b.level2}))[0].id})})),v()}}):null,"Главы"!==b.level3&&"Параграфы"===b.level4?r.a.createElement(F,{subchapters:i.filter((function(e){return"subchapter"===e.type&&e.sourceId===i.filter((function(e){return"chapter"===e.type&&e.title===b.level3}))[0].id})),updateLibrary:h,addSubChapter:function(e){m((function(t){t.push({id:u.a.database().ref("usersScience/"+a+"/library/").push().key,type:"subchapter",title:e,source:b.level3,sourceId:i.filter((function(e){return"chapter"===e.type&&e.title===b.level3}))[0].id})})),v()}}):null,"Параграфы"!==b.level4?r.a.createElement(Z,{ideas:i.filter((function(e){return"idea"===e.type&&e.sourceId===i.filter((function(e){return"subchapter"===e.type&&e.title===b.level4}))[0].id})),updateLibrary:h,addIdea:function(e){m((function(t){t.push({id:u.a.database().ref("usersScience/"+a+"/library/").push().key,type:"idea",title:e,source:b.level4,sourceId:i.filter((function(e){return"subchapter"===e.type&&e.title===b.level4}))[0].id})})),v()}}):null,"Идеи"!==b.level5?r.a.createElement(k,{items:[{id:1,type:"citation",title:"Цитата 1",source:"Идея 1 Параграфа 1 Главы 1 Книги 1"},{id:2,type:"citation",title:"Цитата 2",source:"Идея 1 Параграфа 1 Главы 1 Книги 1"},{id:3,type:"citation",title:"Цитата 3",source:"Идея 1 Параграфа 1 Главы 1 Книги 1"}],possibleItems:[{id:4,type:"citation",title:"Цитата 4",source:"Идея 1 Параграфа 1 Главы 1 Книги 1"},{id:5,type:"citation",title:"Цитата 5",source:"Идея 1 Параграфа 1 Главы 1 Книги 1"},{id:6,type:"citation",title:"Цитата 6",source:"Идея 1 Параграфа 1 Главы 1 Книги 1"}],updatedList:function(e){console.log(e)}}):null),r.a.createElement(S.a,null,"Идеи"!==b.level5?r.a.createElement(K,{sciencenotes:i.filter((function(e){return"sciencenote"===e.type&&e.source===b.level5})),updateLibrary:h}):r.a.createElement("div",null,"Выберите пункт")))))}function Q(e){var t=e.books,n=void 0===t?[]:t,a=e.updateLibrary,i=void 0===a?null:a,c=e.addBook,o=r.a.useState(!1),u=o[0],s=o[1],d=Object(l.b)(),m=d.register,f=d.handleSubmit;return r.a.createElement(j.a,null,!!n&&n.map((function(e){return r.a.createElement("div",{key:e.id,onClick:function(){return i("SelectBook",e.title)}},e.title)})),r.a.createElement(h.a,{onClick:function(){return s(!u)},variant:"outline-light","aria-controls":"add_book_collapse","aria-expanded":u,size:"sm"},u?"-":"+"),r.a.createElement(O.a,{in:u},r.a.createElement("div",{id:"add_book_collapse"},r.a.createElement(T.a,{onSubmit:f((function(e){console.log(e),c(e.book_title),s(!1)}))},r.a.createElement(T.a.Group,{controlId:"book_name"},r.a.createElement(T.a.Label,{className:"small text-muted"},"Добавить книгу"),r.a.createElement(T.a.Control,Object.assign({},m("book_title"),{as:"textarea",rows:"2"}))),r.a.createElement(h.a,{variant:"outline-secondary",type:"submit",size:"sm",block:!0},"Сохранить")))))}function W(e){var t=e.chapters,n=void 0===t?[]:t,a=e.updateLibrary,i=void 0===a?null:a,c=e.addChapter,o=r.a.useState(!1),u=o[0],s=o[1],d=Object(l.b)(),m=d.register,f=d.handleSubmit;return r.a.createElement(j.a,null,!!n&&n.map((function(e){return r.a.createElement("div",{key:e.id,onClick:function(){return i("SelectChapter",e.title)}},e.title)})),r.a.createElement(h.a,{onClick:function(){return s(!u)},variant:"outline-light","aria-controls":"add_chapter_collapse","aria-expanded":u,size:"sm"},u?"-":"+"),r.a.createElement(O.a,{in:u},r.a.createElement("div",{id:"add_chapter_collapse"},r.a.createElement(T.a,{onSubmit:f((function(e){console.log(e),c(e.chapter_title),s(!1)}))},r.a.createElement(T.a.Group,{controlId:"chapter_name"},r.a.createElement(T.a.Label,{className:"small text-muted"},"Добавить главу"),r.a.createElement(T.a.Control,Object.assign({},m("chapter_title"),{as:"textarea",rows:"2"}))),r.a.createElement(h.a,{variant:"outline-secondary",type:"submit",size:"sm",block:!0},"Сохранить")))))}function F(e){var t=e.subchapters,n=void 0===t?[]:t,a=e.updateLibrary,i=void 0===a?null:a,c=e.addSubChapter,o=r.a.useState(!1),u=o[0],s=o[1],d=Object(l.b)(),m=d.register,f=d.handleSubmit;return console.log(n),r.a.createElement(j.a,null,!!n&&n.map((function(e){return r.a.createElement("div",{key:e.id,onClick:function(){return i("SelectSubChapter",e.title)}},e.title)})),r.a.createElement(h.a,{onClick:function(){return s(!u)},variant:"outline-light","aria-controls":"add_subchapter_collapse","aria-expanded":u,size:"sm"},u?"-":"+"),r.a.createElement(O.a,{in:u},r.a.createElement("div",{id:"add_subchapter_collapse"},r.a.createElement(T.a,{onSubmit:f((function(e){console.log(e),c(e.subchapter_title),s(!1)}))},r.a.createElement(T.a.Group,{controlId:"subchapter_name"},r.a.createElement(T.a.Label,{className:"small text-muted"},"Добавить параграф"),r.a.createElement(T.a.Control,Object.assign({},m("subchapter_title"),{as:"textarea",rows:"2"}))),r.a.createElement(h.a,{variant:"outline-secondary",type:"submit",size:"sm",block:!0},"Сохранить")))))}function Z(e){var t=e.ideas,n=void 0===t?[]:t,a=e.updateLibrary,i=void 0===a?null:a,c=e.addIdea,o=r.a.useState(!1),u=o[0],s=o[1],d=Object(l.b)(),m=d.register,f=d.handleSubmit;return console.log(n),r.a.createElement(j.a,null,!!n&&n.map((function(e){return r.a.createElement("div",{key:e.id,onClick:function(){return i("SelectIdea",e.title)}},e.title)})),r.a.createElement(h.a,{onClick:function(){return s(!u)},variant:"outline-light","aria-controls":"add_idea_collapse","aria-expanded":u,size:"sm"},u?"-":"+"),r.a.createElement(O.a,{in:u},r.a.createElement("div",{id:"add_idea_collapse"},r.a.createElement(T.a,{onSubmit:f((function(e){console.log(e),c(e.idea_title),s(!1)}))},r.a.createElement(T.a.Group,{controlId:"idea_name"},r.a.createElement(T.a.Label,{className:"small text-muted"},"Добавить идею"),r.a.createElement(T.a.Control,Object.assign({},m("idea_title"),{as:"textarea",rows:"2"}))),r.a.createElement(h.a,{variant:"outline-secondary",type:"submit",size:"sm",block:!0},"Сохранить")))))}function K(e){var t=e.sciencenotes,n=void 0===t?[]:t;e.updateLibrary;return console.log(n),r.a.createElement(j.a,{className:"mt-5"},!!n&&n.map((function(e){return r.a.createElement("div",{key:e.id}," ",r.a.createElement(V,{sciencenote:e}))})))}function V(e){var t=e.sciencenote,n=Object(c.d)(d.b).email.replace(/[^a-zA-Z0-9]/g,"_"),a=Object(i.a)("usersScience/"+n+"/notes/"+t.fireNodeId),l=a.data,o=a.loading,u=a.error,s=Object(m.a)(["(min-width: 810px)","(min-width: 400px)","(min-width: 100px)"],["large","medium","small"],"large"),b=r.a.useState(null),p=b[0],v=b[1];return o||!l?r.a.createElement("div",null,"..."):u?r.a.createElement("div",null,":-("):p?r.a.createElement(f.b,{note:"new"===p?{id:"new"}:l,screenSize:s}):r.a.createElement(f.a,{note:l,setCurrentEditId:v})}},vEsD:function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return j}));var a=n("rePB"),r=n("KQm4"),l=n("q1tI"),i=n.n(l),c=n("/MKj"),o=n("NKCw"),u=n("y6RJ"),s=n("fhwx"),d=n.n(s),m=n("VU5L"),f=n("Qu+8"),b=n("pJDg"),p=n("7vrA"),v=n("cWnB"),h=n("QojX"),g=n("6xyR"),E=n("J7+s");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e){var t,n,a,r,l=e.note,c=e.setCurrentEditId,o=void 0===c?null:c,u=i.a.useState(!1),s=u[0],m=u[1];function b(){m((function(e){return!e}))}return"large"!==Object(f.a)(["(min-width: 810px)","(min-width: 400px)","(min-width: 100px)"],["large","medium","small"],"large")?i.a.createElement("div",{key:l.id},i.a.createElement("small",{className:s?"":"line-clamp"},d()(l.content.last_edit)),i.a.createElement("br",null),i.a.createElement(v.a,{variant:"outline-light",size:"sm",onClick:function(){return o(l.id)}}," ",i.a.createElement(E.e,null)),i.a.createElement(v.a,{variant:"outline-light",size:"sm",onClick:function(){return b()}}," ",i.a.createElement(E.d,null)),i.a.createElement("cite",{title:"cited_reference"},i.a.createElement("small",null,l.content.cited_reference)),"   ",i.a.createElement("cite",{title:"plagiarism"},i.a.createElement("small",null,l.date+"   ","  ",l.content.plagiarism)),i.a.createElement("hr",null)):i.a.createElement(g.a,{key:l.id,className:"mb-1"},i.a.createElement(g.a.Header,null,i.a.createElement(v.a,{variant:"outline-light",size:"sm",onClick:function(){return o(l.id)}}," ",i.a.createElement(E.e,null)),i.a.createElement(v.a,{variant:"outline-light",size:"sm",onClick:function(){return b()}}," ",i.a.createElement(E.d,null)),i.a.createElement("span",{className:"ml-2"},null!=(r=l.content)&&r.h6?r.h6:null!=r&&r.h5?r.h5:null!=r&&r.h4?r.h4:null!=r&&r.h3?r.h3:null!=r&&r.h2?r.h2:null!=r&&r.h1?r.h1:"Заголовок")),i.a.createElement(g.a.Body,null,i.a.createElement("blockquote",{className:"blockquote mb-0"},i.a.createElement("small",{className:s?"":"line-clamp"},null!=l&&null!==(t=l.content)&&void 0!==t&&t.last_edit?d()(l.content.last_edit):"-"),null!=l&&null!==(n=l.content)&&void 0!==n&&n.cited_reference?i.a.createElement("footer",{className:"blockquote-footer"},i.a.createElement("cite",{title:"Сited_Reference"}," ",l.content.cited_reference)):null,null!=l&&null!==(a=l.content)&&void 0!==a&&a.plagiarism?i.a.createElement("footer",{className:"blockquote-footer"},i.a.createElement("cite",{title:"Plagiarism"},l.date+"   "," ",l.content.plagiarism," ")):null)))}function j(e){var t,n,a,s=e.note,d=e.screenSize,f=Object(c.d)(m.b).email,g=Object(c.d)(m.b).user,E=null===(t=Object(c.d)(m.b))||void 0===t?void 0:t.avatarUrl,y=Object(l.useState)(null),O=y[0],j=y[1],_=Object(o.b)({defaultValues:null!=s&&s.content?s.content:{}}),x=_.handleSubmit,C=Object(l.useState)("last_edit"),I=C[0],P=C[1],N=Object(l.useState)([]),B=N[0];N[1];var z=function(e){if(console.log(e),f.length>6){var t,n=f.replace(/[^a-zA-Z0-9]/g,"_"),a=null!=s&&s.id&&"new"!==s.id?s.id:u.a.database().ref("usersScience/"+n).child("notes").push().key,l=null===(o=null==s||null===(t=s.content)||void 0===t?void 0:t.old_editions)||"function"!=typeof o&&"object"!=typeof o?[e.last_edit]:[].concat(Object(r.a)(Object.keys(s.content.old_editions).map((function(e){return s.content.old_editions[e]}))),[e.last_edit]);console.log(l);var i={id:a,type:"sciencenotes",content:k(k({},e),{},{old_editions:l,tags:B}),deleted:!1,email:f,user:g,avatarUrl:E||null,date:new Intl.DateTimeFormat("ru",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}).format(new Date)};console.log(i);var c={};return c["usersScience/"+n+"/notes/"+a]=i,u.a.database().ref().update(c).then((function(){j(!0),setTimeout(window.location.reload(),8e3)}))}var o};return i.a.createElement(o.a,_,"large"===d?i.a.createElement(p.a,null,i.a.createElement(b.a,{"aria-label":"Basic example",size:"sm"},i.a.createElement(v.a,{variant:"outline-secondary",onClick:function(){return P("h1")}},"h1"),i.a.createElement(v.a,{variant:"outline-secondary",onClick:function(){return P("h2")}},"h2"),i.a.createElement(v.a,{variant:"outline-secondary",onClick:function(){return P("h3")}},"h3"),i.a.createElement(v.a,{variant:"outline-secondary",onClick:function(){return P("h4")}},"h4"),i.a.createElement(v.a,{variant:"outline-secondary",onClick:function(){return P("h5")}},"h5"),i.a.createElement(v.a,{variant:"outline-secondary",onClick:function(){return P("h6")}},"h6"),i.a.createElement(v.a,{variant:"outline-secondary",onClick:function(){return P("last_edit")}},"Last Edit"),i.a.createElement(v.a,{variant:"outline-secondary",onClick:function(){return P("cited_reference")}},"Cited Reference"),i.a.createElement(v.a,{variant:"outline-secondary",onClick:function(){return P("plagiarism")}},"Plagiarism")),i.a.createElement(h.a,{onSubmit:x(z)},function(){switch(I){case"h1":return i.a.createElement(w,{key:I,name:I,label:"Заголовок 1"});case"h2":return i.a.createElement(w,{key:I,name:I,label:"Заголовок 2"});case"h3":return i.a.createElement(w,{key:I,name:I,label:"Заголовок 3"});case"h4":return i.a.createElement(w,{key:I,name:I,label:"Заголовок 4"});case"h5":return i.a.createElement(w,{key:I,name:I,label:"Заголовок 5"});case"h6":return i.a.createElement(w,{key:I,name:I,label:"Заголовок 6"});case"last_edit":return i.a.createElement(w,{key:I,name:I,label:"Текст"});case"cited_reference":return i.a.createElement(w,{key:I,name:I,label:"Источник"});case"plagiarism":return i.a.createElement(w,{key:I,name:I,label:"Уникальность"})}}(),i.a.createElement(v.a,{variant:"outline-secondary",type:"submit",size:"sm",block:!0,disabled:O},"Сохранить"),null!==(n=s.content)&&void 0!==n&&n.old_editions?i.a.createElement(S,{note:s,email:f}):null)):i.a.createElement(p.a,null,i.a.createElement(h.a,{onSubmit:x(z)},i.a.createElement(w,{name:"h6",label:"Заголовок"}),i.a.createElement(w,{name:"last_edit",label:"Текст"}),i.a.createElement(w,{name:"cited_reference",label:"Источник"}),i.a.createElement(w,{name:"plagiarism",label:"Уникальность"}),i.a.createElement(v.a,{variant:"outline-secondary",type:"submit",size:"sm",block:!0,disabled:O},"Сохранить")),null!==(a=s.content)&&void 0!==a&&a.old_editions?i.a.createElement(S,{note:s,email:f}):null))}function w(e){var t=e.name,n=e.label,a=void 0===n?null:n,r=Object(o.c)();return i.a.createElement(h.a.Group,{controlId:"field_"+t},i.a.createElement(h.a.Label,{className:"small text-muted"},a||t),i.a.createElement(h.a.Control,Object.assign({},r.register(t),{as:"textarea",rows:"3"})))}function S(e){var t=e.note,n=e.email;return i.a.createElement(v.a,{variant:"outline-secondary",size:"sm",block:!0,onClick:function(){return function(){if(n.length>6){var e=n.replace(/[^a-zA-Z0-9]/g,"_"),a=null!=t&&t.id&&"new"!==t.id?t.id:u.a.database().ref("usersScience/"+e).child("notes").push().key,r=k(k({},t.content),{},{old_editions:null}),l=k(k({},t),{},{content:r,date:new Intl.DateTimeFormat("ru",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}).format(new Date)});console.log(l);var i={};return i["usersScience/"+e+"/notes/"+a]=l,u.a.database().ref().update(i).then((function(){setTimeout(window.location.reload(),8e3)}))}}()}},t.content.old_editions.length,"  Удалить старые редакции")}},w95p:function(e,t,n){"use strict";t.a=function(e){var t=[],n=null,a=function(){for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];t=r,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return a.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},a}}}]);
//# sourceMappingURL=component---src-pages-mylibrary-js-d36a79b164ce2f8fab14.js.map