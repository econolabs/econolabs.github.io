<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Пособие SQLite3 в Python</title>
    <!-- Bootstrap 4 CSS -->
    <link rel="stylesheet" href="../dist/original.css">
    <style>
        .code-block {
            background-color: #f8f9fa;
            padding: 1rem;
            border-radius: 0.25rem;
            border-left: 4px solid #007bff;
            font-family: 'Courier New', monospace;
            margin: 1rem 0;
            overflow-x: auto;
            font-size: 0.9em;
        }


        .exercise {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0.25rem;
        }

        .sql-keyword {
            color: #d73a49;
            font-weight: bold;
        }

        .sql-comment {
            color: #6a737d;
            font-style: italic;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/hot-formula-parser@4.0.0/dist/formula-parser.min.js"></script>
    <script src="./quizesSets.js"></script>
</head>

<body data-api="AIzaSyDUamZR2aXuP2rFG1AFpb1Ni8aZA5uhSj4" data-base="fincalculations"
    data-app="1:892270777573:web:bdc13e9b47334b4319700c">
    <!-- Навигационная панель -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a target="_blank" class="navbar-brand" href="/">Econolabs</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a class="nav-link" href="#"><span class="sr-only"></span></a>
                </li>

            </ul>
            <form class="form-inline my-2 my-lg-0">
                <a href="https://vk.com/dmglvn">
                    <img loading="lazy" src="https://sun9-37.userapi.com/c317630/v317630439/76a0/Bz6QTfBog0I.jpg?ava=1"
                        alt="" style="
                width: 40px;
                height: 40px;
                border-radius: 50%;
                filter: grayscale(100%);
                object-fit: cover;
              " />
                </a>
            </form>
        </div>
    </nav>


    <div class="container mt-5">
        <!-- Заглавное изображение -->

        <div class="card" style="width: 800px; margin: 10px">
            <img src="../h1title.jpg" class="card-img-top" alt="База данных">
            <div class="card-body">
                <h3>Введение</h3>
                <div class="row">
                    <div class="col-12">
                        <h1 class="text-center mb-4">Пособие по работе с SQLite3 в Python</h1>
                        <p class="lead text-center">Практическое руководство для работы в Jupyter Lite</p>

                        <!-- Блок с целями обучения -->
                        <div class="alert alert-primary">
                            <h4>Цели занятия:</h4>
                            <ul>
                                <li>Освоить основы работы с реляционными базами данных</li>
                                <li>Научиться создавать и управлять базами данных в SQLite3</li>
                                <li>Применить полученные знания для журналистских проектов</li>
                                <li>Научиться работать с данными в Jupyter Lite</li>
                                <li>https://econolabspython.github.io/jupyterlite/lab/index.html</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>




        <!-- Карточка 1: Введение в SQLite -->
        <div class="card" style="width: 800px; margin: 10px">
            <img src="../h1title.jpg" class="card-img-top" alt="База данных">
            <div class="card-body">
                <h3>Введение в SQLite</h3>
                <p class="card-text">SQLite - это встраиваемая реляционная база данных, которая не требует отдельного
                    серверного процесса.</p>
                <div class="code-block">
                    <span class="sql-keyword">import</span> sqlite3<br>
                    <span class="sql-comment"># Подключение к базе данных (создание, если не существует)</span><br>
                    conn = sqlite3.connect(<span class="sql-keyword">'example.db'</span>)
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <p><strong>Преимущества SQLite:</strong></p>
                        <ul>
                            <li>Не требует установки отдельного сервера</li>
                            <li>Вся база данных хранится в одном файле</li>
                            <li>Поддерживает стандартный SQL</li>
                            <li>Идеально для обучения и небольших проектов</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <p><strong>Применение в журналистике:</strong></p>
                        <ul>
                            <li>Анализ datasets</li>
                            <li>Хранение информации об источниках</li>
                            <li>Управление архивом статей</li>
                            <li>Структурирование исследовательских данных</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Карточка 2: Подключение к базе данных -->
        <div class="card" style="width: 800px; margin: 10px">
            <img src="../h1title2.jpg" class="card-img-top" alt="Подключение">
            <div class="card-body">
                <h3>Подключение к базе данных</h3>
                <p class="card-text">Основные операции подключения и создания базы данных.</p>
                <div class="code-block">
                    <span class="sql-keyword">import</span> sqlite3<br><br>

                    <span class="sql-comment"># Подключение к базе данных</span><br>
                    connection = sqlite3.connect(<span class="sql-keyword">'students.db'</span>)<br><br>

                    <span class="sql-comment"># Создание курсора для выполнения SQL-запросов</span><br>
                    cursor = connection.cursor()<br><br>

                    <span class="sql-comment"># Не забудьте закрыть соединение после работы</span><br>
                    <span class="sql-comment"># connection.close()</span>
                </div>
                <div class="alert alert-warning">
                    <strong>Важно:</strong> Всегда закрывайте соединение после работы с базой данных.
                </div>
            </div>
        </div>

        <!-- Карточка 3: Создание таблиц -->
        <div class="card" style="width: 800px; margin: 10px">
            <img src="../h1title3.jpg" class="card-img-top" alt="Таблицы">
            <div class="card-body">
                <h3>Создание таблиц</h3>
                <p class="card-text">Создание структуры базы данных с помощью SQL-запросов.</p>
                <div class="code-block">
                    <span class="sql-comment"># Создание таблицы студентов</span><br>
                    create_table_query = <span class="sql-keyword">'''</span><br>
                    <span class="sql-keyword">CREATE TABLE</span> IF NOT EXISTS students (<br>
                    id INTEGER <span class="sql-keyword">PRIMARY KEY AUTOINCREMENT</span>,<br>
                    name TEXT <span class="sql-keyword">NOT NULL</span>,<br>
                    age INTEGER,<br>
                    grade TEXT<br>
                    );<br>
                    <span class="sql-keyword">'''</span><br><br>

                    cursor.execute(create_table_query)<br>
                    connection.commit()
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <p><strong>Типы данных в SQLite:</strong></p>
                        <ul>
                            <li>INTEGER - целые числа</li>
                            <li>TEXT - текстовые данные</li>
                            <li>REAL - числа с плавающей точкой</li>
                            <li>BLOB - бинарные данные</li>
                            <li>NULL - пустое значение</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <p><strong>Ограничения (Constraints):</strong></p>
                        <ul>
                            <li>PRIMARY KEY - первичный ключ</li>
                            <li>NOT NULL - запрет пустых значений</li>
                            <li>UNIQUE - уникальные значения</li>
                            <li>DEFAULT - значение по умолчанию</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Карточка 4: Вставка данных -->
        <div class="card" style="width: 800px; margin: 10px">
            <img src="../h1title4.jpg" class="card-img-top" alt="Вставка данных">
            <div class="card-body">
                <h3>Вставка данных</h3>
                <p class="card-text">Добавление записей в таблицу.</p>
                <div class="code-block">
                    <span class="sql-comment"># Вставка одной записи</span><br>
                    insert_query = <span class="sql-keyword">"INSERT INTO students (name, age, grade) VALUES (?, ?,
                        ?)"</span><br>
                    student_data = (<span class="sql-keyword">'Иван Иванов'</span>, <span class="sql-keyword">20</span>,
                    <span class="sql-keyword">'A'</span>)<br>
                    cursor.execute(insert_query, student_data)<br>
                    connection.commit()<br><br>

                    <span class="sql-comment"># Вставка нескольких записей</span><br>
                    students_list = [<br>
                    (<span class="sql-keyword">'Мария Петрова'</span>, <span class="sql-keyword">19</span>, <span
                        class="sql-keyword">'B'</span>),<br>
                    (<span class="sql-keyword">'Петр Сидоров'</span>, <span class="sql-keyword">21</span>, <span
                        class="sql-keyword">'A'</span>),<br>
                    (<span class="sql-keyword">'Анна Козлова'</span>, <span class="sql-keyword">20</span>, <span
                        class="sql-keyword">'C'</span>)<br>
                    ]<br>
                    cursor.executemany(insert_query, students_list)<br>
                    connection.commit()<br><br>

                    <span class="sql-comment"># Вставка с возвратом ID последней записи</span><br>
                    cursor.execute(<span class="sql-keyword">"INSERT INTO students (name, age) VALUES (?, ?)"</span>,
                    (<span class="sql-keyword">'Сергей'</span>, <span class="sql-keyword">22</span>))<br>
                    last_id = cursor.lastrowid<br>
                    print(<span class="sql-keyword">f"ID новой записи: {last_id}"</span>)
                </div>
                <div class="alert alert-info">
                    <strong>Безопасность:</strong> Всегда используйте параметризованные запросы для предотвращения
                    SQL-инъекций.
                </div>
            </div>
        </div>

        <!-- Карточка 5: Выборка данных -->
        <div class="card" style="width: 800px; margin: 10px">
            <img src="../h1title5.jpg" class="card-img-top" alt="Поиск данных">
            <div class="card-body">
                <h3>Выборка данных</h3>
                <p class="card-text">Извлечение данных из таблицы с помощью SELECT.</p>
                <div class="code-block">
                    <span class="sql-comment"># Выбор всех записей</span><br>
                    cursor.execute(<span class="sql-keyword">"SELECT * FROM students"</span>)<br>
                    all_students = cursor.fetchall()<br><br>

                    <span class="sql-comment"># Выбор с условием</span><br>
                    cursor.execute(<span class="sql-keyword">"SELECT * FROM students WHERE age > ?"</span>, (<span
                        class="sql-keyword">19</span>,))<br>
                    adult_students = cursor.fetchall()<br><br>

                    <span class="sql-comment"># Выбор одной записи</span><br>
                    cursor.execute(<span class="sql-keyword">"SELECT * FROM students WHERE name = ?"</span>, (<span
                        class="sql-keyword">'Иван Иванов'</span>,))<br>
                    one_student = cursor.fetchone()<br><br>

                    <span class="sql-comment"># Выбор конкретных полей</span><br>
                    cursor.execute(<span class="sql-keyword">"SELECT name, grade FROM students WHERE age BETWEEN 18 AND
                        20"</span>)<br>
                    specific_fields = cursor.fetchall()<br><br>

                    <span class="sql-comment"># Выбор уникальных значений</span><br>
                    cursor.execute(<span class="sql-keyword">"SELECT DISTINCT grade FROM students"</span>)<br>
                    unique_grades = cursor.fetchall()<br><br>

                    <span class="sql-comment"># Вывод результатов</span><br>
                    <span class="sql-keyword">for</span> student <span class="sql-keyword">in</span> all_students:<br>
                    print(<span class="sql-keyword">f"ID: {student[0]}, Имя: {student[1]},
                        Возраст: {student[2]}, Оценка: {student[3]}"</span>)
                </div>
            </div>
        </div>

        <!-- Карточка 5: Выборка данных -->
        <div class="card" style="width: 800px; margin: 10px">
            <img src="../h1title17.jpg" class="card-img-top" alt="Поиск данных">
            <div class="card-body">
                <h3>Генератор данных</h3>

                <div class="alert alert-primary">
                    <h4>Faker</h4>
                    Позволяет разделить процессы сбора и анализа данных<br><br>
                    fake.random_element(["M", "F"])<br>
                    fake.name()<br>
                    fake.random_int(min=18, max=25)<br>
                    fake.email()<br>
                    fake.company<br>
                    fake.job()<br>
                    fake.date_this_year().isoformat()<br>
                    fake.boolean(chance_of_getting_true=80)<br>
                    fake.date_of_birth()<br>
                    fake.sentence<br>
                    fake.sentences<br>
                    ...<br>
                    https://gist.github.com/digitalashes/185133cd833d78cbc74e9090e10b57d2<br>
                </div>

                <p class="card-text">Faker<br>


                </p>
                <div class="code-block">
                    <span class="sql-keyword">import</span> sqlite3<br>
                    <span class="sql-keyword">import</span> piplite<br><br>

                    <span class="sql-keyword">await</span> piplite.install(<span class="sql-string">"faker"</span>)<br>
                    <span class="sql-keyword">from</span> faker <span class="sql-keyword">import</span> Faker<br><br>

                    <span class="sql-comment"># Initialize Faker</span><br>
                    fake = Faker([<span class="sql-string">'en_IN'</span>])<br><br>

                    <span class="sql-comment"># Use 'with' to open and close the connection automatically</span><br>
                    <span class="sql-keyword">with</span> sqlite3.connect(<span
                        class="sql-string">'my_database.db'</span>) <span class="sql-keyword">as</span> connection:<br>
                    cursor = connection.cursor()<br><br>

                    <span class="sql-comment"># Write the SQL command to create the Students
                        table</span><br>
                    create_table_query = <span class="sql-string">'''</span><br>
                    <span class="sql-keyword">CREATE TABLE IF NOT EXISTS</span> Students (<br>
                    id <span class="sql-keyword">INTEGER PRIMARY KEY AUTOINCREMENT</span>,<br>
                    name <span class="sql-keyword">TEXT NOT NULL</span>,<br>
                    age <span class="sql-keyword">INTEGER</span>,<br>
                    email <span class="sql-keyword">TEXT</span><br>
                    );<br>
                    <span class="sql-string">'''</span><br><br>

                    <span class="sql-comment"># Execute the SQL command</span><br>
                    cursor.execute(create_table_query)<br><br>

                    <span class="sql-comment"># Commit the changes</span><br>
                    connection.commit()<br><br>

                    <span class="sql-comment"># Insert a record into the Students
                        table</span><br>
                    insert_query = <span class="sql-string">'''</span><br>
                    <span class="sql-keyword">INSERT INTO</span> Students (name, age, email) <br>
                    <span class="sql-keyword">VALUES</span> (?, ?, ?);<br>
                    <span class="sql-string">'''</span><br>
                    students_data = [(fake.name(), fake.random_int(<br>
                    min=18, max=25), fake.email()) <span class="sql-keyword">for</span> _ <span
                        class="sql-keyword">in</span> range(5)]<br><br>

                    <span class="sql-comment"># Execute the query for multiple
                        records</span><br>
                    cursor.executemany(insert_query, students_data)<br><br>

                    <span class="sql-comment"># Commit the changes</span><br>
                    connection.commit()<br><br>

                    <span class="sql-comment"># Print confirmation message</span><br>
                    print(<span class="sql-string">"Fake student records inserted
                        successfully!"</span>)<br><br>

                    <span class="sql-comment"># Write the SQL command to select all records from
                        the Students table</span><br>
                    select_query = <span class="sql-string">"SELECT * FROM
                        Students;"</span><br><br>

                    <span class="sql-comment"># Execute the SQL command</span><br>
                    cursor.execute(select_query)<br><br>

                    <span class="sql-comment"># Fetch all records</span><br>
                    all_students = cursor.fetchall()<br><br>

                    <span class="sql-comment"># Display results in the terminal</span><br>
                    print(<span class="sql-string">"All Students:"</span>)<br>
                    <span class="sql-keyword">for</span> student <span class="sql-keyword">in</span> all_students:<br>
                    print(student)<br><br>


                </div>
            </div>
        </div>

        <!-- Карточка 6: Расширенные операции SELECT -->
        <div class="card" style="width: 800px; margin: 10px">
            <img src="../h1title6.jpg" class="card-img-top" alt="Расширенный поиск">
            <div class="card-body">
                <h3>Расширенные операции SELECT</h3>
                <p class="card-text">Сортировка, группировка и агрегатные функции.</p>
                <div class="code-block">
                    <span class="sql-comment"># Сортировка по возрасту (по возрастанию)</span><br>
                    cursor.execute(<span class="sql-keyword">"SELECT * FROM students ORDER BY age ASC"</span>)<br>
                    sorted_students = cursor.fetchall()<br><br>

                    <span class="sql-comment"># Сортировка по оценке (по убыванию) и имени</span><br>
                    cursor.execute(<span class="sql-keyword">"SELECT * FROM students ORDER BY grade DESC, name
                        ASC"</span>)<br>
                    complex_sorted = cursor.fetchall()<br><br>

                    <span class="sql-comment"># Группировка и агрегатные функции</span><br>
                    cursor.execute(<span class="sql-keyword">'''</span><br>
                    <span class="sql-keyword">SELECT</span> grade, <span class="sql-keyword">COUNT</span>(*) as count,
                    <span class="sql-keyword">AVG</span>(age) as avg_age<br>
                    <span class="sql-keyword">FROM</span> students <br>
                    <span class="sql-keyword">GROUP BY</span> grade<br>
                    <span class="sql-keyword">HAVING COUNT</span>(*) > 1<br>
                    <span class="sql-keyword">'''</span>)<br>
                    grouped_data = cursor.fetchall()<br><br>

                    <span class="sql-comment"># Ограничение количества результатов</span><br>
                    cursor.execute(<span class="sql-keyword">"SELECT * FROM students LIMIT 5"</span>)<br>
                    limited_results = cursor.fetchall()<br><br>

                    <span class="sql-comment"># Пропуск первых N записей</span><br>
                    cursor.execute(<span class="sql-keyword">"SELECT * FROM students LIMIT 5 OFFSET 2"</span>)<br>
                    offset_results = cursor.fetchall()<br><br>

                    <span class="sql-comment"># Поиск по шаблону (LIKE)</span><br>
                    cursor.execute(<span class="sql-keyword">"SELECT * FROM students WHERE name LIKE 'И%'"</span>)<br>
                    pattern_results = cursor.fetchall()
                </div>
                <p><strong>Агрегатные функции:</strong> COUNT(), SUM(), AVG(), MIN(), MAX()</p>
            </div>
        </div>

        <!-- Карточка 7: Обновление данных -->
        <div class="card" style="width: 800px; margin: 10px">
            <img src="../h1title7.jpg" class="card-img-top" alt="Обновление данных">
            <div class="card-body">
                <h3>Обновление данных</h3>
                <p class="card-text">Изменение существующих записей в таблице.</p>
                <div class="code-block">
                    <span class="sql-comment"># Обновление оценки студента</span><br>
                    update_query = <span class="sql-keyword">"UPDATE students SET grade = ? WHERE name = ?"</span><br>
                    cursor.execute(update_query, (<span class="sql-keyword">'A+'</span>, <span
                        class="sql-keyword">'Мария Петрова'</span>))<br>
                    connection.commit()<br><br>

                    <span class="sql-comment"># Обновление возраста всех студентов</span><br>
                    cursor.execute(<span class="sql-keyword">"UPDATE students SET age = age + 1"</span>)<br>
                    connection.commit()<br><br>

                    <span class="sql-comment"># Обновление нескольких полей</span><br>
                    cursor.execute(<span class="sql-keyword">'''</span><br>
                    <span class="sql-keyword">UPDATE</span> students <br>
                    <span class="sql-keyword">SET</span> grade = <span class="sql-keyword">?</span>, age = <span
                        class="sql-keyword">?</span><br>
                    <span class="sql-keyword">WHERE</span> id = <span class="sql-keyword">?</span><br>
                    <span class="sql-keyword">'''</span>, (<span class="sql-keyword">'B+'</span>, <span
                        class="sql-keyword">23</span>, <span class="sql-keyword">5</span>))<br>
                    connection.commit()<br><br>

                    print(<span class="sql-keyword">f"Количество обновленных строк: {cursor.rowcount}"</span>)
                </div>
            </div>
        </div>

        <!-- Карточка 8: Удаление данных -->
        <div class="card" style="width: 800px; margin: 10px">
            <img src="../h1title8.jpg" class="card-img-top" alt="Удаление данных">
            <div class="card-body">
                <h3>Удаление данных</h3>
                <p class="card-text">Удаление записей из таблицы.</p>
                <div class="code-block">
                    <span class="sql-comment"># Удаление конкретного студента</span><br>
                    delete_query = <span class="sql-keyword">"DELETE FROM students WHERE name = ?"</span><br>
                    cursor.execute(delete_query, (<span class="sql-keyword">'Петр Сидоров'</span>,))<br>
                    connection.commit()<br><br>

                    <span class="sql-comment"># Удаление всех студентов с оценкой C</span><br>
                    cursor.execute(<span class="sql-keyword">"DELETE FROM students WHERE grade = ?"</span>, (<span
                        class="sql-keyword">'C'</span>,))<br>
                    connection.commit()<br><br>

                    <span class="sql-comment"># Удаление с использованием IN</span><br>
                    cursor.execute(<span class="sql-keyword">"DELETE FROM students WHERE grade IN (?, ?)"</span>, (<span
                        class="sql-keyword">'D'</span>, <span class="sql-keyword">'F'</span>))<br>
                    connection.commit()<br><br>

                    <span class="sql-comment"># Удаление всех записей из таблицы (осторожно!)</span><br>
                    <span class="sql-comment"># cursor.execute("DELETE FROM students")</span><br>
                    <span class="sql-comment"># connection.commit()</span>
                </div>
                <div class="alert alert-danger">
                    <strong>Внимание:</strong> Операция DELETE необратима. Всегда проверяйте условие WHERE.
                </div>
            </div>
        </div>

        <!-- Карточка 9: Работа с несколькими таблицами -->
        <div class="card" style="width: 800px; margin: 10px">
            <img src="../h1title9.jpg" class="card-img-top" alt="Несколько таблиц">
            <div class="card-body">
                <h3>Работа с несколькими таблицами</h3>
                <p class="card-text">JOIN операции и связи между таблицами.</p>
                <div class="code-block">
                    <span class="sql-comment"># Создание связанных таблиц</span><br>
                    cursor.execute(<span class="sql-keyword">'''</span><br>
                    <span class="sql-keyword">CREATE TABLE</span> IF NOT EXISTS courses (<br>
                    id INTEGER <span class="sql-keyword">PRIMARY KEY</span>,<br>
                    course_name TEXT,<br>
                    instructor TEXT<br>
                    )<br>
                    <span class="sql-keyword">'''</span>)<br><br>

                    cursor.execute(<span class="sql-keyword">'''</span><br>
                    <span class="sql-keyword">CREATE TABLE</span> IF NOT EXISTS enrollments (<br>
                    student_id INTEGER,<br>
                    course_id INTEGER,<br>
                    enrollment_date TEXT,<br>
                    <span class="sql-keyword">FOREIGN KEY</span>(student_id) <span class="sql-keyword">REFERENCES</span>
                    students(id),<br>
                    <span class="sql-keyword">FOREIGN KEY</span>(course_id) <span class="sql-keyword">REFERENCES</span>
                    courses(id)<br>
                    )<br>
                    <span class="sql-keyword">'''</span>)<br><br>

                    <span class="sql-comment"># INNER JOIN - только совпадающие записи</span><br>
                    cursor.execute(<span class="sql-keyword">'''</span><br>
                    <span class="sql-keyword">SELECT</span> s.name, c.course_name, e.enrollment_date<br>
                    <span class="sql-keyword">FROM</span> students s<br>
                    <span class="sql-keyword">INNER JOIN</span> enrollments e <span class="sql-keyword">ON</span> s.id =
                    e.student_id<br>
                    <span class="sql-keyword">INNER JOIN</span> courses c <span class="sql-keyword">ON</span>
                    e.course_id = c.id<br>
                    <span class="sql-keyword">'''</span>)<br>
                    join_results = cursor.fetchall()<br><br>

                    <span class="sql-comment"># LEFT JOIN - все записи из левой таблицы</span><br>
                    cursor.execute(<span class="sql-keyword">'''</span><br>
                    <span class="sql-keyword">SELECT</span> s.name, c.course_name<br>
                    <span class="sql-keyword">FROM</span> students s<br>
                    <span class="sql-keyword">LEFT JOIN</span> enrollments e <span class="sql-keyword">ON</span> s.id =
                    e.student_id<br>
                    <span class="sql-keyword">LEFT JOIN</span> courses c <span class="sql-keyword">ON</span> e.course_id
                    = c.id<br>
                    <span class="sql-keyword">'''</span>)<br>
                    left_join_results = cursor.fetchall()
                </div>
            </div>
        </div>

        <!-- Карточка 10: Транзакции -->
        <div class="card" style="width: 800px; margin: 10px">
            <img src="../h1title10.jpg" class="card-img-top" alt="Транзакции">
            <div class="card-body">
                <h3>Транзакции</h3>
                <p class="card-text">Обеспечение целостности данных при групповых операциях.</p>
                <div class="code-block">
                    <span class="sql-comment"># Работа с транзакциями</span><br>
                    <span class="sql-keyword">try</span>:<br>
                    connection = sqlite3.connect(<span class="sql-keyword">'university.db'</span>)<br>
                    cursor = connection.cursor()<br>
                    <br>
                    <span class="sql-comment"># Начало транзакции</span><br>
                    cursor.execute(<span class="sql-keyword">"BEGIN TRANSACTION"</span>)<br>
                    <br>
                    <span class="sql-comment"># Несколько операций</span><br>
                    cursor.execute(<span class="sql-keyword">"INSERT INTO students (name, age)
                        VALUES (?, ?)"</span>, (<span class="sql-keyword">'Новый студент'</span>, <span
                        class="sql-keyword">20</span>))<br>
                    cursor.execute(<span class="sql-keyword">"UPDATE students SET grade = ?
                        WHERE name = ?"</span>, (<span class="sql-keyword">'A'</span>, <span class="sql-keyword">'Старый
                        студент'</span>))<br>
                    <br>
                    <span class="sql-comment"># Подтверждение транзакции</span><br>
                    connection.commit()<br>
                    print(<span class="sql-keyword">"Транзакция успешно завершена"</span>)<br>
                    <br>
                    <span class="sql-keyword">except</span> Exception <span class="sql-keyword">as</span> e:<br>
                    <span class="sql-comment"># Откат транзакции при ошибке</span><br>
                    connection.rollback()<br>
                    print(<span class="sql-keyword">f"Ошибка: {e}. Транзакция
                        отменена."</span>)<br>
                    <br>
                    <span class="sql-keyword">finally</span>:<br>
                    connection.close()
                </div>
                <div class="alert alert-info">
                    <strong>ACID свойства транзакций:</strong> Atomicity (Атомарность), Consistency (Согласованность),
                    Isolation (Изолированность), Durability (Долговечность).
                </div>
            </div>
        </div>

        <!-- Карточка 11: Индексы и оптимизация -->
        <div class="card" style="width: 800px; margin: 10px">
            <img src="../h1title11.jpg" class="card-img-top" alt="Индексы">
            <div class="card-body">
                <h3>Индексы и оптимизация</h3>
                <p class="card-text">Ускорение выполнения запросов с помощью индексов.</p>
                <div class="code-block">
                    <span class="sql-comment"># Создание индекса для ускорения поиска по имени</span><br>
                    cursor.execute(<span class="sql-keyword">"CREATE INDEX IF NOT EXISTS idx_students_name ON students
                        (name)"</span>)<br><br>

                    <span class="sql-comment"># Создание составного индекса</span><br>
                    cursor.execute(<span class="sql-keyword">"CREATE INDEX IF NOT EXISTS idx_students_grade_age ON
                        students (grade, age)"</span>)<br><br>

                    <span class="sql-comment"># Уникальный индекс</span><br>
                    cursor.execute(<span class="sql-keyword">"CREATE UNIQUE INDEX IF NOT EXISTS idx_students_email ON
                        students (email)"</span>)<br><br>

                    <span class="sql-comment"># Просмотр всех индексов таблицы</span><br>
                    cursor.execute(<span class="sql-keyword">"SELECT name FROM sqlite_master WHERE type = 'index' AND
                        tbl_name = 'students'"</span>)<br>
                    indexes = cursor.fetchall()<br>
                    <span class="sql-keyword">for</span> index <span class="sql-keyword">in</span> indexes:<br>
                    print(index[0])<br><br>

                    <span class="sql-comment"># Удаление индекса</span><br>
                    <span class="sql-comment"># cursor.execute("DROP INDEX IF EXISTS idx_students_name")</span>
                </div>
                <p><strong>Когда использовать индексы:</strong></p>
                <ul>
                    <li>Частые поисковые запросы по полю</li>
                    <li>Большие таблицы (тысячи записей)</li>
                    <li>Поля, используемые в WHERE, JOIN, ORDER BY</li>
                </ul>
            </div>
        </div>

        <!-- Карточка 12: Практический пример для журналистов -->
        <div class="card" style="width: 800px; margin: 10px">
            <img src="../h1title12.jpg" class="card-img-top" alt="Журналистика">
            <div class="card-body">
                <h3>Практический пример: База данных для журналистов</h3>
                <p class="card-text">Полный пример создания и работы с базой данных для журналистских проектов.</p>
                <div class="code-block">
                    <span class="sql-keyword">import</span> sqlite3<br>
                    <span class="sql-keyword">import</span> datetime<br><br>

                    <span class="sql-comment"># Создание базы данных журналистов</span><br>
                    conn = sqlite3.connect(<span class="sql-keyword">'journalism.db'</span>)<br>
                    cursor = conn.cursor()<br><br>

                    <span class="sql-comment"># Создание таблиц</span><br>
                    cursor.execute(<span class="sql-keyword">'''</span><br>
                    <span class="sql-keyword">CREATE TABLE</span> IF NOT EXISTS articles (<br>
                    id INTEGER <span class="sql-keyword">PRIMARY KEY AUTOINCREMENT</span>,<br>
                    title TEXT <span class="sql-keyword">NOT NULL</span>,<br>
                    content TEXT,<br>
                    author_id INTEGER,<br>
                    publication_date DATE,<br>
                    category TEXT,<br>
                    views INTEGER <span class="sql-keyword">DEFAULT</span> 0,<br>
                    status TEXT <span class="sql-keyword">DEFAULT</span> 'draft'<br>
                    )<br>
                    <span class="sql-keyword">'''</span>)<br><br>

                    cursor.execute(<span class="sql-keyword">'''</span><br>
                    <span class="sql-keyword">CREATE TABLE</span> IF NOT EXISTS authors (<br>
                    id INTEGER <span class="sql-keyword">PRIMARY KEY AUTOINCREMENT</span>,<br>
                    name TEXT <span class="sql-keyword">NOT NULL</span>,<br>
                    email TEXT <span class="sql-keyword">UNIQUE</span>,<br>
                    specialization TEXT,<br>
                    hire_date DATE<br>
                    )<br>
                    <span class="sql-keyword">'''</span>)<br><br>

                    <span class="sql-comment"># Добавление данных</span><br>
                    authors_data = [<br>
                    (<span class="sql-keyword">'Алексей Смирнов'</span>, <span
                        class="sql-keyword">'alex@news.ru'</span>, <span class="sql-keyword">'Политика'</span>, <span
                        class="sql-keyword">'2020-01-15'</span>),<br>
                    (<span class="sql-keyword">'Елена Воробьева'</span>, <span
                        class="sql-keyword">'elena@news.ru'</span>, <span class="sql-keyword">'Культура'</span>, <span
                        class="sql-keyword">'2019-03-20'</span>),<br>
                    (<span class="sql-keyword">'Дмитрий Ковалев'</span>, <span
                        class="sql-keyword">'dmitry@news.ru'</span>, <span class="sql-keyword">'Спорт'</span>, <span
                        class="sql-keyword">'2021-06-10'</span>)<br>
                    ]<br><br>

                    cursor.executemany(<span class="sql-keyword">'''</span><br>
                    <span class="sql-keyword">INSERT INTO</span> authors (name, email, specialization, hire_date)<br>
                    <span class="sql-keyword">VALUES</span> (?, ?, ?, ?)<br>
                    <span class="sql-keyword">'''</span>, authors_data)<br><br>

                    <span class="sql-comment"># Сложные запросы для анализа</span><br>
                    cursor.execute(<span class="sql-keyword">'''</span><br>
                    <span class="sql-keyword">SELECT</span> a.name, <span class="sql-keyword">COUNT</span>(ar.id) as
                    article_count, <span class="sql-keyword">AVG</span>(ar.views) as avg_views<br>
                    <span class="sql-keyword">FROM</span> authors a<br>
                    <span class="sql-keyword">LEFT JOIN</span> articles ar <span class="sql-keyword">ON</span> a.id =
                    ar.author_id<br>
                    <span class="sql-keyword">WHERE</span> ar.publication_date >= date('now', '-30 days')<br>
                    <span class="sql-keyword">GROUP BY</span> a.id<br>
                    <span class="sql-keyword">ORDER BY</span> article_count <span class="sql-keyword">DESC</span><br>
                    <span class="sql-keyword">'''</span>)<br><br>

                    author_stats = cursor.fetchall()<br>
                    <span class="sql-keyword">for</span> stat <span class="sql-keyword">in</span> author_stats:<br>
                    print(<span class="sql-keyword">f"Автор: {stat[0]}, Статей: {stat[1]},
                        Средние просмотры: {stat[2]}"</span>)<br><br>

                    conn.commit()<br>
                    conn.close()
                </div>
            </div>
        </div>

        <!-- Карточка 13: Работа в Jupyter Lite -->
        <div class="card" style="width: 800px; margin: 10px">
            <img src="../h1title13.jpg" class="card-img-top" alt="Jupyter">
            <div class="card-body">
                <h3>Особенности работы в Jupyter Lite</h3>
                <p class="card-text">Специфика использования SQLite3 в браузерной среде Jupyter Lite.</p>
                <div class="alert alert-info">
                    <strong>Важно для Jupyter Lite:</strong>
                    <ul>
                        <li>SQLite3 уже предустановлен в Jupyter Lite</li>
                        <li>База данных создается в виртуальной файловой системе браузера</li>
                        <li>Данные могут не сохраняться после закрытия браузера</li>
                        <li>Для постоянного хранения экспортируйте данные в файл</li>
                        <li>Идеально для обучения и прототипирования</li>
                    </ul>
                </div>
                <div class="code-block">
                    <span class="sql-comment"># Проверка доступности SQLite3 в Jupyter Lite</span><br>
                    <span class="sql-keyword">import</span> sqlite3<br>
                    print(<span class="sql-keyword">f"Версия SQLite: {sqlite3.sqlite_version}"</span>)<br><br>

                    <span class="sql-comment"># Создание тестовой базы данных</span><br>
                    conn = sqlite3.connect(<span class="sql-keyword">'test.db'</span>)<br>
                    cursor = conn.cursor()<br>
                    cursor.execute(<span class="sql-keyword">"CREATE TABLE test (id INTEGER, name TEXT)"</span>)<br>
                    conn.commit()<br>
                    conn.close()<br>
                    print(<span class="sql-keyword">"База данных успешно создана!"</span>)<br><br>

                    <span class="sql-comment"># Проверка существования таблиц</span><br>
                    conn = sqlite3.connect(<span class="sql-keyword">'test.db'</span>)<br>
                    cursor = conn.cursor()<br>
                    cursor.execute(<span class="sql-keyword">'''</span><br>
                    <span class="sql-keyword">SELECT</span> name <span class="sql-keyword">FROM</span> sqlite_master
                    <br>
                    <span class="sql-keyword">WHERE</span> type=<span class="sql-keyword">'table'</span> <span
                        class="sql-keyword">AND</span> name=<span class="sql-keyword">'test'</span><br>
                    <span class="sql-keyword">'''</span>)<br>
                    table_exists = cursor.fetchone()<br>
                    print(<span class="sql-keyword">f"Таблица существует: {table_exists is not None}"</span>)<br>
                    conn.close()
                </div>
            </div>
        </div>

        <!-- Карточка 14: Визуализация данных - основы -->
        <div class="card" style="width: 800px; margin: 10px">
            <img src="../h1title3.jpg" class="card-img-top" alt="Визуализация данных">
            <div class="card-body">
                <h3>Визуализация данных из SQLite</h3>
                <p class="card-text">Построение диаграмм на основе данных из базы данных.</p>
                <div class="code-block">
                    <span class="sql-comment"># Установка библиотек для визуализации (в Jupyter Lite)</span><br>
                    <span class="sql-comment"># !pip install matplotlib</span><br>
                    <span class="sql-comment"># !pip install seaborn</span><br><br>

                    <span class="sql-keyword">import</span> sqlite3<br>
                    <span class="sql-keyword">import</span> matplotlib.pyplot <span class="sql-keyword">as</span>
                    plt<br>
                    <span class="sql-keyword">import</span> pandas <span class="sql-keyword">as</span> pd<br>
                    <span class="sql-keyword">import</span> seaborn <span class="sql-keyword">as</span> sns<br><br>

                    <span class="sql-comment"># Подключение к базе данных</span><br>
                    conn = sqlite3.connect(<span class="sql-keyword">'journalism.db'</span>)<br>
                    <br>
                    <span class="sql-comment"># Чтение данных в DataFrame</span><br>
                    df = pd.read_sql_query(<span class="sql-keyword">"SELECT * FROM articles"</span>, conn)<br>
                    conn.close()<br><br>

                    <span class="sql-comment"># Базовая статистика</span><br>
                    print(df.describe())<br>
                    print(df.info())
                </div>
                <p><strong>Библиотеки для визуализации:</strong></p>
                <ul>
                    <li>Matplotlib - базовые диаграммы</li>
                    <li>Seaborn - статистическая визуализация</li>
                    <li>Pandas - встроенные методы визуализации</li>
                    <li>Plotly - интерактивные диаграммы</li>
                </ul>

                       
                
   
                import piplite<br>
    await piplite.install('seaborn')<br>
    import matplotlib.pyplot as plt<br>
     import seaborn as sns<br>
            </div>
        </div>

        <!-- Карточка 15: Столбчатые диаграммы -->
        <div class="card" style="width: 800px; margin: 10px">
            <img src="../h1title.jpg" class="card-img-top" alt="Столбчатые диаграммы">
            <div class="card-body">
                <h3>Столбчатые диаграммы</h3>
                <p class="card-text">Визуализация категориальных данных и сравнение величин.</p>
                <div class="code-block">
                    <span class="sql-comment"># Количество статей по категориям</span><br>
                    conn = sqlite3.connect(<span class="sql-keyword">'journalism.db'</span>)<br>
                    query = <span class="sql-keyword">'''</span><br>
                    <span class="sql-keyword">SELECT</span> category, <span class="sql-keyword">COUNT</span>(*) as
                    count<br>
                    <span class="sql-keyword">FROM</span> articles<br>
                    <span class="sql-keyword">GROUP BY</span> category<br>
                    <span class="sql-keyword">ORDER BY</span> count <span class="sql-keyword">DESC</span><br>
                    <span class="sql-keyword">'''</span><br>
                    df_categories = pd.read_sql_query(query, conn)<br>
                    conn.close()<br><br>

                    <span class="sql-comment"># Построение столбчатой диаграммы</span><br>
                    plt.figure(figsize=(10, 6))<br>
                    plt.bar(df_categories[<span class="sql-keyword">'category'</span>], df_categories[<span
                        class="sql-keyword">'count'</span>])<br>
                    plt.title(<span class="sql-keyword">'Количество статей по категориям'</span>)<br>
                    plt.xlabel(<span class="sql-keyword">'Категории'</span>)<br>
                    plt.ylabel(<span class="sql-keyword">'Количество статей'</span>)<br>
                    plt.xticks(rotation=45)<br>
                    plt.tight_layout()<br>
                    plt.show()<br><br>

                    <span class="sql-comment"># Альтернатива с Seaborn</span><br>
                    plt.figure(figsize=(10, 6))<br>
                    sns.barplot(data=df_categories, x=<span class="sql-keyword">'category'</span>, y=<span
                        class="sql-keyword">'count'</span>)<br>
                    plt.title(<span class="sql-keyword">'Количество статей по категориям (Seaborn)'</span>)<br>
                    plt.xticks(rotation=45)<br>
                    plt.tight_layout()<br>
                    plt.show()
                </div>
                <p><strong>Применение в журналистике:</strong> сравнение количества публикаций по темам, анализ
                    активности авторов.</p>
            </div>
        </div>

        <!-- Карточка 16: Круговые диаграммы -->
        <div class="card" style="width: 800px; margin: 10px">
            <img src="../h1title2.jpg" class="card-img-top" alt="Круговые диаграммы">
            <div class="card-body">
                <h3>Круговые диаграммы</h3>
                <p class="card-text">Визуализация пропорций и долей.</p>
                <div class="code-block">
                    <span class="sql-comment"># Распределение статей по статусам</span><br>
                    conn = sqlite3.connect(<span class="sql-keyword">'journalism.db'</span>)<br>
                    query = <span class="sql-keyword">'''</span><br>
                    <span class="sql-keyword">SELECT</span> status, <span class="sql-keyword">COUNT</span>(*) as
                    count<br>
                    <span class="sql-keyword">FROM</span> articles<br>
                    <span class="sql-keyword">GROUP BY</span> status<br>
                    <span class="sql-keyword">'''</span><br>
                    df_status = pd.read_sql_query(query, conn)<br>
                    conn.close()<br><br>

                    <span class="sql-comment"># Круговая диаграмма</span><br>
                    plt.figure(figsize=(8, 8))<br>
                    plt.pie(df_status[<span class="sql-keyword">'count'</span>], <br>
                    labels=df_status[<span class="sql-keyword">'status'</span>], <br>
                    autopct=<span class="sql-keyword">'%1.1f%%'</span>,<br>
                    startangle=90,<br>
                    colors=[<span class="sql-keyword">'#ff9999'</span>, <span class="sql-keyword">'#66b3ff'</span>,
                    <span class="sql-keyword">'#99ff99'</span>])<br>
                    plt.title(<span class="sql-keyword">'Распределение статей по статусам'</span>)<br>
                    plt.axis(<span class="sql-keyword">'equal'</span>)<br>
                    plt.show()<br><br>

                    <span class="sql-comment"># Улучшенная версия с выносками</span><br>
                    plt.figure(figsize=(10, 8))<br>
                    patches, texts, autotexts = plt.pie(<br>
                    df_status[<span class="sql-keyword">'count'</span>], <br>
                    labels=df_status[<span class="sql-keyword">'status'</span>], <br>
                    autopct=<span class="sql-keyword">'%1.1f%%'</span>,<br>
                    shadow=True,<br>
                    explode=(0.1, 0, 0)<br>
                    )<br>
                    plt.title(<span class="sql-keyword">'Статусы статей с акцентом на опубликованные'</span>,
                    fontsize=14)<br>
                    plt.show()
                </div>
                <p><strong>Применение:</strong> распределение контента по типам, анализ долей тем в издании.</p>
            </div>
        </div>

        <!-- Карточка 17: Линейные графики -->
        <div class="card" style="width: 800px; margin: 10px">
            <img src="../h1title3.jpg" class="card-img-top" alt="Линейные графики">
            <div class="card-body">
                <h3>Линейные графики и временные ряды</h3>
                <p class="card-text">Анализ тенденций и изменений во времени.</p>
                <div class="code-block">
                    <span class="sql-comment"># Динамика публикаций по месяцам</span><br>
                    conn = sqlite3.connect(<span class="sql-keyword">'journalism.db'</span>)<br>
                    query = <span class="sql-keyword">'''</span><br>
                    <span class="sql-keyword">SELECT</span> <br>
                    strftime('%Y-%m', publication_date) as month,<br>
                    COUNT(*) as publications<br>
                    <span class="sql-keyword">FROM</span> articles <br>
                    <span class="sql-keyword">WHERE</span> publication_date IS NOT NULL<br>
                    <span class="sql-keyword">GROUP BY</span> strftime('%Y-%m', publication_date)<br>
                    <span class="sql-keyword">ORDER BY</span> month<br>
                    <span class="sql-keyword">'''</span><br>
                    df_timeline = pd.read_sql_query(query, conn)<br>
                    conn.close()<br><br>

                    <span class="sql-comment"># Линейный график</span><br>
                    plt.figure(figsize=(12, 6))<br>
                    plt.plot(df_timeline[<span class="sql-keyword">'month'</span>], df_timeline[<span
                        class="sql-keyword">'publications'</span>], <br>
                    marker=<span class="sql-keyword">'o'</span>, linewidth=2, markersize=6)<br>
                    plt.title(<span class="sql-keyword">'Динамика публикаций по месяцам'</span>, fontsize=14)<br>
                    plt.xlabel(<span class="sql-keyword">'Месяц'</span>)<br>
                    plt.ylabel(<span class="sql-keyword">'Количество публикаций'</span>)<br>
                    plt.xticks(rotation=45)<br>
                    plt.grid(True, alpha=0.3)<br>
                    plt.tight_layout()<br>
                    plt.show()<br><br>

                    <span class="sql-comment"># Несколько линий на одном графике</span><br>
                    query_categories = <span class="sql-keyword">'''</span><br>
                    <span class="sql-keyword">SELECT</span> <br>
                    strftime('%Y-%m', publication_date) as month,<br>
                    category,<br>
                    COUNT(*) as publications<br>
                    <span class="sql-keyword">FROM</span> articles <br>
                    <span class="sql-keyword">WHERE</span> publication_date IS NOT NULL<br>
                    AND category IN ('Политика', 'Спорт', 'Культура')<br>
                    <span class="sql-keyword">GROUP BY</span> strftime('%Y-%m', publication_date), category<br>
                    <span class="sql-keyword">ORDER BY</span> month, category<br>
                    <span class="sql-keyword">'''</span><br>
                    df_multi = pd.read_sql_query(query_categories, conn)<br>
                    <br>
                    <span class="sql-comment"># Pivot для многолинейного графика</span><br>
                    df_pivot = df_multi.pivot(index=<span class="sql-keyword">'month'</span>, columns=<span
                        class="sql-keyword">'category'</span>, values=<span
                        class="sql-keyword">'publications'</span>)<br>
                    <br>
                    plt.figure(figsize=(12, 6))<br>
                    <span class="sql-keyword">for</span> column <span class="sql-keyword">in</span>
                    df_pivot.columns:<br>
                    plt.plot(df_pivot.index, df_pivot[column], marker=<span class="sql-keyword">'o'</span>,
                    label=column)<br>
                    plt.title(<span class="sql-keyword">'Динамика публикаций по категориям'</span>, fontsize=14)<br>
                    plt.xlabel(<span class="sql-keyword">'Месяц'</span>)<br>
                    plt.ylabel(<span class="sql-keyword">'Количество публикаций'</span>)<br>
                    plt.legend()<br>
                    plt.xticks(rotation=45)<br>
                    plt.grid(True, alpha=0.3)<br>
                    plt.tight_layout()<br>
                    plt.show()
                </div>
            </div>
        </div>

        <!-- Карточка 18: Гистограммы и распределения -->
        <div class="card" style="width: 800px; margin: 10px">
            <img src="../h1title.jpg" class="card-img-top" alt="Гистограммы">
            <div class="card-body">
                <h3>Гистограммы и анализ распределений</h3>
                <p class="card-text">Анализ распределения числовых данных.</p>
                <div class="code-block">
                    <span class="sql-comment"># Распределение просмотров статей</span><br>
                    conn = sqlite3.connect(<span class="sql-keyword">'journalism.db'</span>)<br>
                    query = <span class="sql-keyword">"SELECT views FROM articles WHERE views > 0"</span><br>
                    df_views = pd.read_sql_query(query, conn)<br>
                    conn.close()<br><br>

                    <span class="sql-comment"># Гистограмма</span><br>
                    plt.figure(figsize=(10, 6))<br>
                    plt.hist(df_views[<span class="sql-keyword">'views'</span>], bins=20, edgecolor=<span
                        class="sql-keyword">'black'</span>, alpha=0.7)<br>
                    plt.title(<span class="sql-keyword">'Распределение количества просмотров статей'</span>)<br>
                    plt.xlabel(<span class="sql-keyword">'Количество просмотров'</span>)<br>
                    plt.ylabel(<span class="sql-keyword">'Количество статей'</span>)<br>
                    plt.grid(True, alpha=0.3)<br>
                    plt.show()<br><br>

                    <span class="sql-comment"># Боксплот для анализа выбросов</span><br>
                    plt.figure(figsize=(8, 6))<br>
                    plt.boxplot(df_views[<span class="sql-keyword">'views'</span>])<br>
                    plt.title(<span class="sql-keyword">'Распределение просмотров (боксплот)'</span>)<br>
                    plt.ylabel(<span class="sql-keyword">'Просмотры'</span>)<br>
                    plt.show()<br><br>

                    <span class="sql-comment"># Сравнение распределений по категориям</span><br>
                    conn = sqlite3.connect(<span class="sql-keyword">'journalism.db'</span>)<br>
                    query_comparison = <span class="sql-keyword">'''</span><br>
                    <span class="sql-keyword">SELECT</span> category, views<br>
                    <span class="sql-keyword">FROM</span> articles <br>
                    <span class="sql-keyword">WHERE</span> views > 0 <br>
                    AND category IN ('Политика', 'Спорт', 'Культура')<br>
                    <span class="sql-keyword">'''</span><br>
                    df_comparison = pd.read_sql_query(query_comparison, conn)<br>
                    conn.close()<br><br>

                    plt.figure(figsize=(10, 6))<br>
                    categories = df_comparison[<span class="sql-keyword">'category'</span>].unique()<br>
                    <span class="sql-keyword">for</span> category <span class="sql-keyword">in</span> categories:<br>
                    data = df_comparison[df_comparison[<span class="sql-keyword">'category'</span>] == category][<span
                        class="sql-keyword">'views'</span>]<br>
                    plt.hist(data, bins=15, alpha=0.6, label=category)<br>
                    plt.title(<span class="sql-keyword">'Сравнение распределения просмотров по категориям'</span>)<br>
                    plt.xlabel(<span class="sql-keyword">'Просмотры'</span>)<br>
                    plt.ylabel(<span class="sql-keyword">'Количество статей'</span>)<br>
                    plt.legend()<br>
                    plt.show()
                </div>
            </div>
        </div>

        <!-- Карточка 19: Тепловые карты и корреляции -->
        <div class="card" style="width: 800px; margin: 10px">
            <img src="../h1title2.jpg" class="card-img-top" alt="Тепловые карты">
            <div class="card-body">
                <h3>Тепловые карты и анализ корреляций</h3>
                <p class="card-text">Визуализация взаимосвязей между переменными.</p>
                <div class="code-block">
                    <span class="sql-comment"># Анализ корреляций между метриками</span><br>
                    conn = sqlite3.connect(<span class="sql-keyword">'journalism.db'</span>)<br>
                    query_metrics = <span class="sql-keyword">'''</span><br>
                    <span class="sql-keyword">SELECT</span> <br>
                    views,<br>
                    LENGTH(content) as content_length,<br>
                    (julianday('now') - julianday(publication_date)) as
                    days_since_publication<br>
                    <span class="sql-keyword">FROM</span> articles <br>
                    <span class="sql-keyword">WHERE</span> views > 0 AND publication_date IS NOT NULL<br>
                    <span class="sql-keyword">'''</span><br>
                    df_metrics = pd.read_sql_query(query_metrics, conn)<br>
                    conn.close()<br><br>

                    <span class="sql-comment"># Матрица корреляций</span><br>
                    correlation_matrix = df_metrics.corr()<br>
                    <br>
                    <span class="sql-comment"># Тепловая карта корреляций</span><br>
                    plt.figure(figsize=(8, 6))<br>
                    sns.heatmap(correlation_matrix, <br>
                    annot=True, <br>
                    cmap=<span class="sql-keyword">'coolwarm'</span>, <br>
                    center=0,<br>
                    square=True)<br>
                    plt.title(<span class="sql-keyword">'Тепловая карта корреляций метрик статей'</span>)<br>
                    plt.tight_layout()<br>
                    plt.show()<br><br>

                    <span class="sql-comment"># Диаграмма рассеяния</span><br>
                    plt.figure(figsize=(10, 6))<br>
                    plt.scatter(df_metrics[<span class="sql-keyword">'content_length'</span>], <br>
                    df_metrics[<span class="sql-keyword">'views'</span>], <br>
                    alpha=0.6)<br>
                    plt.title(<span class="sql-keyword">'Зависимость просмотров от длины статьи'</span>)<br>
                    plt.xlabel(<span class="sql-keyword">'Длина контента (символы)'</span>)<br>
                    plt.ylabel(<span class="sql-keyword">'Просмотры'</span>)<br>
                    plt.grid(True, alpha=0.3)<br>
                    plt.show()
                </div>
            </div>
        </div>

        <!-- Карточка 20: Комплексная дашборд-визуализация -->
        <div class="card" style="width: 800px; margin: 10px">
            <img src="../h1title3.jpg" class="card-img-top" alt="Дашборд">
            <div class="card-body">
                <h3>Комплексная визуализация: Дашборд</h3>
                <p class="card-text">Создание комплексной панели визуализации данных из SQLite.</p>
                <div class="code-block">
                    <span class="sql-keyword">import</span> sqlite3<br>
                    <span class="sql-keyword">import</span> matplotlib.pyplot <span class="sql-keyword">as</span>
                    plt<br>
                    <span class="sql-keyword">import</span> pandas <span class="sql-keyword">as</span> pd<br>
                    <span class="sql-keyword">import</span> seaborn <span class="sql-keyword">as</span> sns<br><br>

                    <span class="sql-comment"># Создание комплексного дашборда</span><br>
                    conn = sqlite3.connect(<span class="sql-keyword">'journalism.db'</span>)<br>
                    <br>
                    <span class="sql-comment"># 1. Статистика по авторам</span><br>
                    query_authors = <span class="sql-keyword">'''</span><br>
                    <span class="sql-keyword">SELECT</span> a.name, <span class="sql-keyword">COUNT</span>(ar.id) as
                    articles, <span class="sql-keyword">AVG</span>(ar.views) as avg_views<br>
                    <span class="sql-keyword">FROM</span> authors a<br>
                    <span class="sql-keyword">LEFT JOIN</span> articles ar <span class="sql-keyword">ON</span> a.id =
                    ar.author_id<br>
                    <span class="sql-keyword">GROUP BY</span> a.id<br>
                    <span class="sql-keyword">ORDER BY</span> articles <span class="sql-keyword">DESC</span><br>
                    <span class="sql-keyword">LIMIT</span> 10<br>
                    <span class="sql-keyword">'''</span><br>
                    df_authors = pd.read_sql_query(query_authors, conn)<br>
                    <br>
                    <span class="sql-comment"># 2. Распределение по категориям</span><br>
                    query_categories = <span class="sql-keyword">'''</span><br>
                    <span class="sql-keyword">SELECT</span> category, <span class="sql-keyword">COUNT</span>(*) as
                    count<br>
                    <span class="sql-keyword">FROM</span> articles<br>
                    <span class="sql-keyword">GROUP BY</span> category<br>
                    <span class="sql-keyword">'''</span><br>
                    df_categories = pd.read_sql_query(query_categories, conn)<br>
                    <br>
                    <span class="sql-comment"># 3. Динамика публикаций</span><br>
                    query_timeline = <span class="sql-keyword">'''</span><br>
                    <span class="sql-keyword">SELECT</span> <br>
                    strftime('%Y-%m', publication_date) as month,<br>
                    COUNT(*) as publications<br>
                    <span class="sql-keyword">FROM</span> articles <br>
                    <span class="sql-keyword">WHERE</span> publication_date IS NOT NULL<br>
                    <span class="sql-keyword">GROUP BY</span> strftime('%Y-%m', publication_date)<br>
                    <span class="sql-keyword">ORDER BY</span> month<br>
                    <span class="sql-keyword">'''</span><br>
                    df_timeline = pd.read_sql_query(query_timeline, conn)<br>
                    conn.close()<br><br>

                    <span class="sql-comment"># Создание subplot дашборда</span><br>
                    fig, ((ax1, ax2), (ax3, ax4)) = plt.subplots(2, 2, figsize=(15, 10))<br>
                    <br>
                    <span class="sql-comment"># 1. Топ авторов</span><br>
                    ax1.barh(df_authors[<span class="sql-keyword">'name'</span>], df_authors[<span
                        class="sql-keyword">'articles'</span>])<br>
                    ax1.set_title(<span class="sql-keyword">'Топ авторов по количеству статей'</span>)<br>
                    ax1.set_xlabel(<span class="sql-keyword">'Количество статей'</span>)<br>
                    <br>
                    <span class="sql-comment"># 2. Круговая диаграмма категорий</span><br>
                    ax2.pie(df_categories[<span class="sql-keyword">'count'</span>], labels=df_categories[<span
                        class="sql-keyword">'category'</span>], autopct=<span class="sql-keyword">'%1.1f%%'</span>)<br>
                    ax2.set_title(<span class="sql-keyword">'Распределение по категориям'</span>)<br>
                    <br>
                    <span class="sql-comment"># 3. Динамика публикаций</span><br>
                    ax3.plot(df_timeline[<span class="sql-keyword">'month'</span>], df_timeline[<span
                        class="sql-keyword">'publications'</span>], marker=<span class="sql-keyword">'o'</span>)<br>
                    ax3.set_title(<span class="sql-keyword">'Динамика публикаций'</span>)<br>
                    ax3.set_xticklabels(df_timeline[<span class="sql-keyword">'month'</span>], rotation=45)<br>
                    ax3.grid(True, alpha=0.3)<br>
                    <br>
                    <span class="sql-comment"># 4. Средние просмотры по авторам</span><br>
                    ax4.bar(df_authors[<span class="sql-keyword">'name'</span>], df_authors[<span
                        class="sql-keyword">'avg_views'</span>])<br>
                    ax4.set_title(<span class="sql-keyword">'Средние просмотры по авторам'</span>)<br>
                    ax4.set_xticklabels(df_authors[<span class="sql-keyword">'name'</span>], rotation=45)<br>
                    <br>
                    plt.tight_layout()<br>
                    plt.show()
                </div>
                <p><strong>Преимущества дашбордов:</strong> комплексный обзор данных, выявление трендов, удобство для
                    принятия редакционных решений.</p>
            </div>
        </div>



        <!-- Карточка 18: Гистограммы и распределения -->
        <div class="card" style="width: 800px; margin: 10px">
            <img src="../h1title.jpg" class="card-img-top" alt="Гистограммы">
            <div class="card-body">
                <h3>Рекламная компания</h3>
                <p class="card-text">Цель занятия: Познакомиться с практическим использованием SQLite (файл
                    <code>ad_data.db</code>) через Python + pandas. Научиться задавать SQL-запросы, делать базовую
                    аналитику и визуализации.
                </p>
                <div class="code-block">

                    <span class="sql-keyword">import</span> sqlite3<br>
                    <span class="sql-keyword">import</span> pandas <span class="sql-keyword">as</span> pd<br><br>

                    <span class="sql-comment"># Подключаемся к базе (путь относительно notebook)</span><br>
                    conn = sqlite3.connect(<span class="sql-keyword">"data/ad_data.db"</span>)<br><br>

                    <span class="sql-comment"># Проверим таблицы</span><br>
                    query = <span class="sql-keyword">"SELECT name FROM sqlite_master WHERE
                        type='table';"</span><br>
                    pd.read_sql_query(query, conn)<br><br>

                    <span class="sql-comment"># Первые 5 строк таблицы ads</span><br>
                    pd.read_sql_query(<span class="sql-keyword">"SELECT * FROM ads LIMIT 5;"</span>, conn)<br><br>

                    <span class="sql-comment"># 3. Подсчёт CTR (Click-Through Rate)</span><br>
                    query = <span class="sql-keyword">"""</span><br>
                    <span class="sql-keyword">SELECT</span> ad_type,<br>
                    &nbsp;&nbsp;&nbsp;<span class="sql-keyword">ROUND</span>(<span class="sql-keyword">AVG</span>(1.0 *
                    clicks / impressions), 4) <span class="sql-keyword">AS</span> avg_ctr<br>
                    <span class="sql-keyword">FROM</span> ads<br>
                    <span class="sql-keyword">GROUP BY</span> ad_type<br>
                    <span class="sql-keyword">ORDER BY</span> avg_ctr <span class="sql-keyword">DESC</span>;<br>
                    <span class="sql-keyword">"""</span><br>
                    pd.read_sql_query(query, conn)<br><br>

                    <span class="sql-comment"># 4. Анализ по платформам</span><br>
                    query = <span class="sql-keyword">"""</span><br>
                    <span class="sql-keyword">SELECT</span> platform,<br>
                    &nbsp;&nbsp;&nbsp;<span class="sql-keyword">SUM</span>(impressions)
                    <span class="sql-keyword">AS</span> total_impressions,<br>
                    &nbsp;&nbsp;&nbsp;<span class="sql-keyword">SUM</span>(clicks) <span class="sql-keyword">AS</span>
                    total_clicks,<br>
                    &nbsp;&nbsp;&nbsp;<span class="sql-keyword">ROUND</span>(1.0 * <span
                        class="sql-keyword">SUM</span>(clicks) / <span class="sql-keyword">SUM</span>(impressions),
                    4) <span class="sql-keyword">AS</span> ctr<br>
                    <span class="sql-keyword">FROM</span> ads<br>
                    <span class="sql-keyword">GROUP BY</span> platform<br>
                    <span class="sql-keyword">ORDER BY</span> ctr <span class="sql-keyword">DESC</span>;<br>
                    <span class="sql-keyword">"""</span><br>
                    pd.read_sql_query(query, conn)<br><br>

                    <span class="sql-comment"># 5. Средняя оценка (feedback) по платформам</span><br>
                    query = <span class="sql-keyword">"""</span><br>
                    <span class="sql-keyword">SELECT</span> a.platform,<br>
                    &nbsp;&nbsp;&nbsp;<span class="sql-keyword">ROUND</span>(<span
                        class="sql-keyword">AVG</span>(i.feedback_score), 2) <span class="sql-keyword">AS</span>
                    avg_feedback<br>
                    <span class="sql-keyword">FROM</span> interactions i<br>
                    <span class="sql-keyword">JOIN</span> ads a <span class="sql-keyword">ON</span> i.ad_id =
                    a.ad_id<br>
                    <span class="sql-keyword">GROUP BY</span> a.platform<br>
                    <span class="sql-keyword">ORDER BY</span> avg_feedback <span class="sql-keyword">DESC</span>;<br>
                    <span class="sql-keyword">"""</span><br>
                    pd.read_sql_query(query, conn)<br><br>

                    <span class="sql-comment"># 6. CTR vs бюджет кампаний</span><br>
                    query = <span class="sql-keyword">"""</span><br>
                    <span class="sql-keyword">SELECT</span> c.brand,<br>
                    &nbsp;&nbsp;&nbsp;<span class="sql-keyword">ROUND</span>(<span class="sql-keyword">AVG</span>(1.0 *
                    a.clicks / a.impressions), 4) <span class="sql-keyword">AS</span> avg_ctr,<br>
                    &nbsp;&nbsp;&nbsp;<span class="sql-keyword">ROUND</span>(<span
                        class="sql-keyword">AVG</span>(c.budget), 2) <span class="sql-keyword">AS</span>
                    avg_budget<br>
                    <span class="sql-keyword">FROM</span> ads a<br>
                    <span class="sql-keyword">JOIN</span> campaigns c <span class="sql-keyword">ON</span>
                    a.campaign_id = c.campaign_id<br>
                    <span class="sql-keyword">GROUP BY</span> c.brand<br>
                    <span class="sql-keyword">ORDER BY</span> avg_ctr <span class="sql-keyword">DESC</span>;<br>
                    <span class="sql-keyword">"""</span><br>
                    pd.read_sql_query(query, conn)<br><br>

                    <span class="sql-comment"># 7. Поведение пользователей по регионам</span><br>
                    query = <span class="sql-keyword">"""</span><br>
                    <span class="sql-keyword">SELECT</span> u.region,<br>
                    &nbsp;&nbsp;&nbsp;<span class="sql-keyword">ROUND</span>(<span
                        class="sql-keyword">AVG</span>(i.view_time_sec), 2) <span class="sql-keyword">AS</span>
                    avg_view_time,<br>
                    &nbsp;&nbsp;&nbsp;<span class="sql-keyword">ROUND</span>(<span
                        class="sql-keyword">AVG</span>(i.feedback_score), 2) <span class="sql-keyword">AS</span>
                    avg_feedback<br>
                    <span class="sql-keyword">FROM</span> interactions i<br>
                    <span class="sql-keyword">JOIN</span> users u <span class="sql-keyword">ON</span> i.user_id =
                    u.user_id<br>
                    <span class="sql-keyword">GROUP BY</span> u.region<br>
                    <span class="sql-keyword">ORDER BY</span> avg_feedback <span class="sql-keyword">DESC</span>;<br>
                    <span class="sql-keyword">"""</span><br>
                    pd.read_sql_query(query, conn)<br><br>

                    <span class="sql-comment"># 8. Визуализация (matplotlib)</span><br>
                    <span class="sql-keyword">import</span> matplotlib.pyplot <span class="sql-keyword">as</span>
                    plt<br><br>

                    df = pd.read_sql_query(<span class="sql-keyword">"""</span><br>
                    <span class="sql-keyword">SELECT</span> ad_type,<br>
                    &nbsp;&nbsp;&nbsp;<span class="sql-keyword">ROUND</span>(<span class="sql-keyword">AVG</span>(1.0 *
                    clicks / impressions), 4) <span class="sql-keyword">AS</span> avg_ctr<br>
                    <span class="sql-keyword">FROM</span> ads<br>
                    <span class="sql-keyword">GROUP BY</span> ad_type;<br>
                    <span class="sql-keyword">"""</span>, conn)<br><br>

                    plt.bar(df[<span class="sql-keyword">'ad_type'</span>], df[<span
                        class="sql-keyword">'avg_ctr'</span>])<br>
                    plt.title(<span class="sql-keyword">"Средний CTR по типам рекламы"</span>)<br>
                    plt.xlabel(<span class="sql-keyword">"Тип рекламы"</span>)<br>
                    plt.ylabel(<span class="sql-keyword">"CTR"</span>)<br>
                    plt.show()<br><br>

                    <span class="sql-comment"># 9. Мини-практикум - Подсказки (SQL)</span><br>
                    <span class="sql-comment">-- CPC: cost per click (avg cost / clicks)</span><br>
                    <span class="sql-keyword">SELECT</span> platform,<br>
                    &nbsp;&nbsp;&nbsp;<span class="sql-keyword">ROUND</span>(<span class="sql-keyword">SUM</span>(cost)
                    / <span class="sql-keyword">NULLIF</span>(<span class="sql-keyword">SUM</span>(clicks),0), 2) <span
                        class="sql-keyword">AS</span>
                    avg_cpc<br>
                    <span class="sql-keyword">FROM</span> ads<br>
                    <span class="sql-keyword">GROUP BY</span> platform<br>
                    <span class="sql-keyword">ORDER BY</span> avg_cpc <span class="sql-keyword">DESC</span>;<br><br>

                    <span class="sql-comment">-- Бренды по feedback</span><br>
                    <span class="sql-keyword">SELECT</span> c.brand, <span class="sql-keyword">ROUND</span>(<span
                        class="sql-keyword">AVG</span>(i.feedback_score),2) <span class="sql-keyword">AS</span>
                    avg_feedback<br>
                    <span class="sql-keyword">FROM</span> interactions i<br>
                    <span class="sql-keyword">JOIN</span> ads a <span class="sql-keyword">ON</span> i.ad_id =
                    a.ad_id<br>
                    <span class="sql-keyword">JOIN</span> campaigns c <span class="sql-keyword">ON</span>
                    a.campaign_id = c.campaign_id<br>
                    <span class="sql-keyword">GROUP BY</span> c.brand<br>
                    <span class="sql-keyword">ORDER BY</span> avg_feedback <span
                        class="sql-keyword">DESC</span>;<br><br>

                    <span class="sql-comment"># 10. Завершение</span><br>
                    conn.close()




                </div>
            </div>
        </div>



        <!-- Карточка 14: Упражнения для закрепления -->
        <div class="card" style="width: 800px; margin: 10px">
            <img src="../h1title14.jpg" class="card-img-top" alt="Упражнения">
            <div class="card-body">
                <h3>Упражнения для самостоятельной работы</h3>
                <p class="card-text">Практические задания для закрепления материала.</p>

                <div class="exercise">
                    <h5>Задание 1: База данных источников информации</h5>
                    <p>Создайте базу данных для хранения источников информации с полями: id, source_name, url, category,
                        reliability_score, last_checked.</p>
                    <button class="btn btn-sm btn-outline-primary" onclick="toggleSolution('solution1')">Показать
                        решение</button>
                    <div id="solution1" style="display: none; margin-top: 10px;">
                        <div class="code-block">
                            <span class="sql-keyword">CREATE TABLE</span> sources (<br>
                            id INTEGER <span class="sql-keyword">PRIMARY KEY
                                AUTOINCREMENT</span>,<br>
                            source_name TEXT <span class="sql-keyword">NOT NULL</span>,<br>
                            url TEXT,<br>
                            category TEXT,<br>
                            reliability_score INTEGER <span class="sql-keyword">CHECK</span>(reliability_score BETWEEN 1
                            AND 5),<br>
                            last_checked DATE<br>
                            );
                        </div>
                    </div>
                </div>

                <div class="exercise">
                    <h5>Задание 2: Анализ эффективности авторов</h5>
                    <p>Напишите запросы для анализа работы авторов:
                    <ul>
                        <li>Найти автора с наибольшим количеством статей</li>
                        <li>Посчитать среднее количество просмотров по категориям</li>
                        <li>Найти статьи, опубликованные за последнюю неделю</li>
                    </ul>
                    </p>
                    <button class="btn btn-sm btn-outline-primary" onclick="toggleSolution('solution2')">Показать
                        решение</button>
                    <div id="solution2" style="display: none; margin-top: 10px;">
                        <div class="code-block">
                            <span class="sql-comment"># Автор с наибольшим количеством статей</span><br>
                            <span class="sql-keyword">SELECT</span> a.name, <span
                                class="sql-keyword">COUNT</span>(ar.id) as article_count<br>
                            <span class="sql-keyword">FROM</span> authors a<br>
                            <span class="sql-keyword">JOIN</span> articles ar <span class="sql-keyword">ON</span> a.id =
                            ar.author_id<br>
                            <span class="sql-keyword">GROUP BY</span> a.id<br>
                            <span class="sql-keyword">ORDER BY</span> article_count <span
                                class="sql-keyword">DESC</span><br>
                            <span class="sql-keyword">LIMIT</span> 1;<br><br>

                            <span class="sql-comment"># Средние просмотры по категориям</span><br>
                            <span class="sql-keyword">SELECT</span> category, <span
                                class="sql-keyword">AVG</span>(views) as avg_views<br>
                            <span class="sql-keyword">FROM</span> articles<br>
                            <span class="sql-keyword">GROUP BY</span> category;<br><br>

                            <span class="sql-comment"># Статьи за последнюю неделю</span><br>
                            <span class="sql-keyword">SELECT</span> title, author_id, publication_date<br>
                            <span class="sql-keyword">FROM</span> articles<br>
                            <span class="sql-keyword">WHERE</span> publication_date >= date('now', '-7 days');
                        </div>
                    </div>
                </div>

                <div class="exercise">
                    <h5>Задание 3: Оптимизация базы данных</h5>
                    <p>Создайте индексы для оптимизации частых запросов и напишите транзакцию для обновления нескольких
                        связанных таблиц.</p>
                    <button class="btn btn-sm btn-outline-primary" onclick="toggleSolution('solution3')">Показать
                        решение</button>
                    <div id="solution3" style="display: none; margin-top: 10px;">
                        <div class="code-block">
                            <span class="sql-comment"># Создание индексов</span><br>
                            <span class="sql-keyword">CREATE INDEX</span> idx_articles_date <span
                                class="sql-keyword">ON</span> articles(publication_date);<br>
                            <span class="sql-keyword">CREATE INDEX</span> idx_articles_author <span
                                class="sql-keyword">ON</span> articles(author_id);<br>
                            <span class="sql-keyword">CREATE INDEX</span> idx_articles_category <span
                                class="sql-keyword">ON</span> articles(category);<br><br>

                            <span class="sql-comment"># Транзакция</span><br>
                            <span class="sql-keyword">BEGIN TRANSACTION</span>;<br>
                            <span class="sql-keyword">INSERT INTO</span> authors (name, email) <span
                                class="sql-keyword">VALUES</span> ('Новый автор', 'new@email.com');<br>
                            <span class="sql-keyword">INSERT INTO</span> articles (title, author_id) <span
                                class="sql-keyword">VALUES</span> ('Новая статья', last_insert_rowid());<br>
                            <span class="sql-keyword">COMMIT</span>;
                        </div>
                    </div>
                </div>
            </div>
        </div>




        <div class="card" style="width: 800px; margin: 10px">
            <img src="https://images.unsplash.com/photo-1707999558198-d5f93aafa75b?q=80&w=600&auto=format&fit=crop"
                class="card-img-top" style="filter: grayscale(1);" alt="quiz">
            <div class="card-body">
                <div class="container" id="formcontainer" style="display: none;">
                    <form>
                        <div class="mb-3">
                            <label for="emailInput" class="form-label">Email</label>
                            <input type="email" class="form-control" id="emailInput" aria-describedby="emailHelp">
                            <div id="emailHelp" class="form-text">Email может быть фиктивный. Пароль НЕ требуется</div>
                        </div>
                        <div class="mb-3">
                            <label for="user" class="form-label">ФИО Группа</label>
                            <input type="text" class="form-control" id="userInput">
                        </div>

                        <button type="submit" class="btn btn-outline-secondary btn-sm m-2 align-text-bottom"
                            id="loginbutton">Сохранить</button>
                    </form>
                </div>
                <div class="container my-1 d-flex flex-wrap" id="quizbuttonslist"></div>
                <div class="container" id="quizcontainer" style="display: none;">
                    <div class="card" style="min-height: 100px;">
                        <div class="card-header" id="quizHeader"></div>
                        <div class="card-body">
                            <h5 class="card-title fade-in-div" id="quizTitle">Выберите тестовое задание</h5>
                            <div class="card-text fade-in-div" id="quizString"></div>
                            <form id="quizform">
                                <div id="quizChecks" class="m-1 p-1"></div>
                                <div id="quizHint" class="m-1 p-1"></div>
                                <div class="container p-1 m-1" id="accountingblock" style="display: none;">
                                </div>
                                <div id="quizformdataarray"></div>
                                <div id="usercalculations" style="display: none;">
                                    <label for="inputFormula" class="col-form-label" id="resformula">Калькулятор</label>
                                    <input type="text" class="form-control form-control-sm" id="inputFormula">
                                </div>
                                <textarea class="form-control my-3" id="userComment" rows="2"
                                    style="display: none;">Мой комментарий</textarea>
                                <button type="submit" class="btn btn-outline-primary m-3" id="answerButton"
                                    style="display: none;">Ответить</button>
                            </form>
                        </div>
                    </div>
                </div>

            </div>
        </div>

    </div>







    <!-- Футер -->
    <footer class="bg-dark text-white mt-5">
        <div class="container py-4">
            <div class="row">
                <div class="col-md-6">
                    <h5>Методическое пособие по SQLite3</h5>

                </div>
                <div class="col-md-6 text-right">

                    <p>Используется в Jupyter Lite</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
    <script type="module" src="../dist/quizcardwithstorage.js"></script>

    <script>
        function toggleSolution(id) {
            var solution = document.getElementById(id);
            if (solution.style.display === "none") {
                solution.style.display = "block";
            } else {
                solution.style.display = "none";
            }
        }
    </script>
</body>

</html>