(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"65eO":function(e,t,a){"use strict";var n=a("wx14"),r=a("zLVn"),l=a("TSYQ"),i=a.n(l),c=a("q1tI"),u=a.n(c),o=a("vUet"),m=u.a.forwardRef((function(e,t){var a=e.bsPrefix,l=e.variant,c=e.pill,m=e.className,s=e.as,d=void 0===s?"span":s,f=Object(r.a)(e,["bsPrefix","variant","pill","className","as"]),p=Object(o.b)(a,"badge");return u.a.createElement(d,Object(n.a)({ref:t},f,{className:i()(m,p,c&&p+"-pill",l&&p+"-"+l)}))}));m.displayName="Badge",m.defaultProps={pill:!1},t.a=m},"8ypT":function(e,t,a){},Bl7J:function(e,t,a){"use strict";var n=a("dwav"),r=a("q1tI"),l=a.n(r),i=a("Wbzz"),c=function(e){var t=e.siteTitle;return l.a.createElement("nav",{className:"navbar  navbar-light bg-light "}," ",l.a.createElement("h3",{style:{margin:0}},l.a.createElement(i.Link,{to:"/",style:{color:"gray",textDecoration:"none"}},t)),l.a.createElement("a",{className:"navbar-brand",href:"https://vk.com/id151078439"},l.a.createElement("img",{src:"https://sun9-37.userapi.com/c317630/v317630439/76a0/Bz6QTfBog0I.jpg?ava=1",alt:"",style:{verticalAlign:"middle",width:"40px",height:"40px",borderRadius:"50%",filter:"grayscale(100%)",objectFit:"cover"}})))};c.defaultProps={siteTitle:""};var u=c;a("8ypT"),t.a=function(e){var t=e.children,a=n.data;return l.a.createElement(l.a.Fragment,null,l.a.createElement(u,{siteTitle:a.site.siteMetadata.title}),l.a.createElement("div",{style:{margin:"0 auto",maxWidth:800,padding:"2rem"}},l.a.createElement("main",null,t),l.a.createElement("footer",null,l.a.createElement("span",{style:{color:"darkgray"}},"© ",(new Date).getFullYear(),", "," ",l.a.createElement("a",{href:"https://vk.com/id151078439",style:{color:"darkgray"}},a.site.siteMetadata.author)))))}},Khjs:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return N}));var n=a("q1tI"),r=a.n(n),l=(a("YbXK"),a("cFtU"),a("rzGZ"),a("m210"),a("4DPX"),a("pJf4"),a("sC2a"),a("q8oJ"),a("8npG"),a("/MKj")),i=a("y6RJ"),c=a("NKCw"),u=a("VU5L"),o=a("Xzxm"),m=a("AgWe"),s=a("IKAq"),d=a("7vrA"),f=a("MBJH"),p=a("zUrK"),E=a("jDKy"),v=a("cWnB"),y=a("6xyR");function b(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return h(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function g(){for(var e=(new Date).getFullYear(),t=e+10,a=[],n=e-10;n<=t;n++)a.push(n);return a}function w(e,t){for(var a={},n=0;n<e.length;n++){a["A"+(n+2).toString()]=e[n]}for(n=0;n<t.length;n++)a[s.a[n+1]+"1"]=t[n]+"";return a}function S(){var e,t=Object(l.c)(u.b).email,a=Object(l.c)(u.b).user,n=null===(e=Object(l.c)(u.b))||void 0===e?void 0:e.avatarUrl,c=r.a.useState([]),s=c[0],p=c[1],E=r.a.useState([]),h=E[0],S=E[1],j=r.a.useState(null),x=j[0],I=j[1],T=r.a.useState({title:"",comment:""}),A=T[0],O=T[1],z=r.a.useState(!0),N=z[0],J=z[1],_=r.a.useState(!1),B=_[0],F=_[1];var K="Project Expert"===x?m.a.map((function(e){return e.ru_title})):[];return r.a.createElement(d.a,null,r.a.createElement(o.a,{items:["Project Expert"],title:"Стандарт отчетности",buttonTitle:"Выбрать",setSelectedItem:I}),r.a.createElement(o.a,{items:K,title:"Новая строка",buttonTitle:"Добавить",setSelectedItem:function(e){p((function(t){return[].concat(b(t),[e])}))}}),r.a.createElement(o.a,{items:g(),title:"Новая дата (период)",buttonTitle:"Добавить",setSelectedItem:function(e){S((function(t){return[].concat(b(t),[e])}))}}),r.a.createElement(d.a,null," ",s&&s.length>0||h&&h.length>0?r.a.createElement(f.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("span",{className:"ml-1"},"Показатель")),h.map((function(e){return r.a.createElement("th",{key:e},e)})))),r.a.createElement("tbody",null,s.map((function(e){return r.a.createElement("tr",{key:e},r.a.createElement("td",null,r.a.createElement("span",{className:"ml-1"},e)),h.map((function(e){return r.a.createElement("td",{key:e},"...")})))})))):null),N&&s&&s.length>0&&h&&h.length>0?r.a.createElement(k,{title:"",setFormObject:function(e){J(!1),O(e)}}):r.a.createElement(y.a,null,r.a.createElement(y.a.Header,null,"Шаблон"),r.a.createElement(y.a.Body,null,r.a.createElement(y.a.Title,null,A.title),r.a.createElement(y.a.Text,null,A.comment),B?"Сохранено":r.a.createElement(v.a,{variant:"outline-secondary",onClick:function(){return function(){if(t.length>6){var e=t.replace(/[^a-zA-Z0-9]/g,"_"),r=i.a.database().ref(e).child("posts").push().key,l={id:r,title:A.title.length>2?A.title:"Расчет",theme:x,answer:"",comment:A.comment+" ("+x+")",type:"calculation",content:w(s,h),quizString:w(s,h),deleted:!1,email:t,user:a,avatarUrl:n||null,date:new Intl.DateTimeFormat("ru",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}).format(new Date)};console.log(l);var c={};return c["/usersTemplates/posts/"+r]=l,i.a.database().ref().update(c).then((function(){return F(!0)}))}}()}},"Сохранить шаблон"))))}var j=[{name:"title",title:"Название",type:"text"},{name:"comment",title:"Комментарий",type:"textarea"}];function k(e){var t=Object(c.a)({defaultValues:{title:e.title}}),a=t.register,n=t.handleSubmit,l=t.reset;t.watch,t.errors;return r.a.useEffect((function(){l({title:e.title})}),[e.title]),r.a.createElement("form",{onSubmit:n(e.setFormObject)},j.map((function(e){return r.a.createElement(p.a,{className:"mb-3",size:"sm",key:e.name},r.a.createElement(p.a.Prepend,null,r.a.createElement(p.a.Text,{style:{width:"8rem"}},e.title)),r.a.createElement(E.a,{key:e.name,name:e.name,type:e.type,ref:a,as:"textarea"===e.type?"textarea":"input"}))})),r.a.createElement(v.a,{variant:"outline-secondary",type:"submit",size:"sm"},"Сохранить"))}var x=a("Bl7J"),I=(a("vYJ8"),a("65eO"),a("3Z9Z")),T=a("JI6e"),A=[{ru_title:"Валовый объем продаж",value:1e3},{ru_title:"Сдельная зарплата",value:400},{ru_title:"Материалы и комплектующие",value:300},{ru_title:"Амортизация",value:120}],O=["Чистый объем продаж","Суммарные прямые издержки","Валовая прибыль","Налогооблагаемая прибыль"];function z(e){var t,a=m.a.filter((function(t){return t.ru_title===e})),n=!!a&&(null===(t=a[0])||void 0===t?void 0:t.dependent);if(n&&n.length>0)return r=0,n.map((function(e){r=(null==e?void 0:e.add)?r+z(e.ru_title):r-z(e.ru_title)})),r;var r,l=A.filter((function(t){return t.ru_title===e}));return l.length>0?l[0].value:0}function N(){return r.a.createElement(x.a,null,r.a.createElement(S,null),r.a.createElement(d.a,null,O.map((function(e){return r.a.createElement(I.a,{key:e},r.a.createElement(T.a,null,e),r.a.createElement(T.a,null,z(e)))}))))}},Xzxm:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));a("gu/5"),a("eoYm");var n=a("q1tI"),r=a.n(n),l=a("7vrA"),i=a("zUrK"),c=a("jDKy"),u=a("cWnB"),o=a("97+O"),m=a("1arA"),s=a("3Z9Z"),d=a("JI6e");function f(e){var t=r.a.useState(null),a=t[0],n=t[1],f=r.a.useState(""),p=f[0],E=f[1];return r.a.createElement(l.a,{className:"mb-3"},r.a.createElement(s.a,null,r.a.createElement(d.a,null,r.a.createElement(i.a,null,r.a.createElement(c.a,{placeholder:a,"aria-label":"selectedItem","aria-describedby":"basic-selectedItem"}),r.a.createElement(m.a,{as:i.a.Append,variant:"outline-secondary",title:e.title,id:"input-group-dropdown-2"},e.items.length>20&&r.a.createElement(c.a,{autoFocus:!0,className:"mx-3 my-2 w-auto",placeholder:"Фильтровать по...",onChange:function(e){return E(e.target.value)},value:p}),e.items.length>20&&p.length>2&&e.items.filter((function(e){return e.includes(p)})).map((function(e){return r.a.createElement(o.a.Item,{key:e,onClick:function(){return n(e)}},e)})),p.length<3&&e.items.map((function(e){return r.a.createElement(o.a.Item,{key:e,onClick:function(){return n(e)}},e)}))))),r.a.createElement(d.a,{md:"auto"},r.a.createElement(u.a,{variant:"outline-secondary",onClick:function(){return e.setSelectedItem(a)}},e.buttonTitle))))}},dwav:function(e){e.exports=JSON.parse('{"data":{"site":{"siteMetadata":{"title":"Econolabs","author":"Дмитрий Головенкин"}}}}')}}]);
//# sourceMappingURL=component---src-pages-budgeting-js-f69585c90e7eda8c07e6.js.map