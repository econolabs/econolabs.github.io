(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"7vrA":function(e,t,n){"use strict";var r=n("wx14"),a=n("zLVn"),o=n("TSYQ"),i=n.n(o),c=n("q1tI"),l=n.n(c),u=n("vUet"),m=l.a.forwardRef((function(e,t){var n=e.bsPrefix,o=e.fluid,c=e.as,m=void 0===c?"div":c,s=e.className,f=Object(a.a)(e,["bsPrefix","fluid","as","className"]),d=Object(u.b)(n,"container"),y="string"==typeof o?"-"+o:"-fluid";return l.a.createElement(m,Object(r.a)({ref:t},f,{className:i()(s,o?""+d+y:d)}))}));m.displayName="Container",m.defaultProps={fluid:!1},t.a=m},JGPZ:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),a=n.n(r),o=(n("xtjI"),n("pJf4"),n("q8oJ"),n("cFtU"),n("m210"),n("4DPX"),n("HQhv"),n("gu/5"),n("eoYm"),n("Ggvi"),n("E5k/"),n("6kNP"),n("rzGZ"),n("Dq+y"),n("8npG"),n("YbXK"),n("KYPV")),i=(n("CtJk"),n("n7j8"),"undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)),c=new Uint8Array(16);function l(){if(!i)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(c)}n("C9fy");for(var u=[],m=0;m<256;++m)u.push((m+256).toString(16).substr(1));var s=function(e,t){var n=t||0;return(u[e[n+0]]+u[e[n+1]]+u[e[n+2]]+u[e[n+3]]+"-"+u[e[n+4]]+u[e[n+5]]+"-"+u[e[n+6]]+u[e[n+7]]+"-"+u[e[n+8]]+u[e[n+9]]+"-"+u[e[n+10]]+u[e[n+11]]+u[e[n+12]]+u[e[n+13]]+u[e[n+14]]+u[e[n+15]]).toLowerCase()};var f=function(e,t,n){var r=(e=e||{}).random||(e.rng||l)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return s(r)},d=n("SGa5"),y=n("dBiz"),p=function(){return y.data.allDictionaryCsv},b=n("7vrA"),v=n("cWnB"),_=n("QojX"),g=n("3Z9Z"),O=n("JI6e"),E=n("jDKy");function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var V=function(e){var t,n,o=Object(r.useState)(!1),i=o[0],c=o[1],l=Object(r.useState)({}),u=l[0],m=l[1],s=Object(r.useState)(null),f=s[0],y=s[1],v=Object(r.useState)({}),_=v[0],g=v[1],O=Object(r.useState)({}),E=O[0],j=O[1],h=p();return Object(r.useEffect)((function(){var t,n,r,a=[];h.edges.forEach((function(e){a.push(e.node)}));var o,i={},l={};(null===(t=e.formFields)||void 0===t?void 0:t.rows)&&e.formFields.rows.forEach((function(e){i[e]=a.filter((function(t){return t.dictionaryId===e}))[0].comment||"Показатель",l[e]=a.filter((function(t){return t.dictionaryId===e}))[0].type||"text"})),g(i),j(l),(o=(null===(n=e.formFields)||void 0===n?void 0:n.rows)?null===(r=e.formFields)||void 0===r?void 0:r.rows:[],Promise.all(["currenttask"].concat(k(o)).map((function(e){return d.userCraft.getItem(e).then((function(t){var n;return(n={})[e]=t,n})).catch((function(t){var n;return console.log(t),(n={})[e]=null,n}))}))).then((function(e){return Object.assign.apply(Object,k(e))}))).then((function(e){var t=e.currenttask,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["currenttask"]);y(t),m(n),c(!0)})).catch((function(e){console.log(e)}))}),[]),i&&(null===(t=e.formFields)||void 0===t?void 0:t.columns)&&1===e.formFields.columns.length?a.a.createElement(b.a,null,a.a.createElement(C,{formDictionaryTitles:_,formDictionaryTypes:E,formInitialValues:u,currentTask:f})):i&&(null===(n=e.formFields)||void 0===n?void 0:n.columns)&&e.formFields.columns.length>1?a.a.createElement(S,{formDictionaryTitles:_,formDictionaryTypes:E,formInitialValues:u,formColumns:e.formFields.columns,currentTask:f}):null};function S(e){var t=Object(r.useState)(!1),n=t[0],i=t[1],c=e.currentTask,l=Object(o.a)({initialValues:{},onSubmit:function(t,n){var r={};Object.keys(e.formInitialValues).map((function(n){r[n]=h({},e.formInitialValues[n]),Object.keys(t).map((function(a){if(a.includes(n)){var o=a.split("_|_"),i=null;e.formInitialValues[n]&&Object.keys(e.formInitialValues[n]).forEach((function(t){var r=e.formInitialValues[n][t];r.currenttask===c&&r.period===o[1]&&(i=t)})),i?(r[n][i]={currenttask:c,period:o[1],context:"Default",value:t[a]},console.log(r[n])):(r[n][f()]={currenttask:c,period:o[1],context:"Default",value:t[a]},console.log(r[n]))}}))}));var a=[];for(var o in Object.keys(r)){var l=Object.keys(r)[o];a.push(d.userCraft.setItem(l,r[l]))}Promise.all(a).then((function(){i(!1),i(!0)}))}});return Object(r.useEffect)((function(){var t={};Object.keys(e.formInitialValues||{}).forEach((function(n){var r=e.formInitialValues[n];Object.keys(r||{}).forEach((function(e){var a;if((null===(a=r[e])||void 0===a?void 0:a.currenttask)&&r[e].currenttask===c){var o,i,l=null==r||null===(o=r[e])||void 0===o?void 0:o.period,u=null==r||null===(i=r[e])||void 0===i?void 0:i.value;t[n+"_|_"+l]=u}}))})),Object.keys(t||{}).forEach((function(e){l.setFieldValue(e,t[e])})),i(!0)}),[]),n?a.a.createElement("div",{style:{margin:"0 auto",maxWidth:800,padding:"2rem"}},a.a.createElement("small",null,c),a.a.createElement("form",{className:"baseForm",onSubmit:l.handleSubmit},a.a.createElement(_.a.Group,{as:g.a,controlId:"formName0"},a.a.createElement(_.a.Label,{column:!0,sm:"4"},"Показатели"),e.formColumns.map((function(e,t){return a.a.createElement(_.a.Label,{column:!0,sm:"2",key:t,className:"text-center"},e)}))),Object.keys(e.formInitialValues).map((function(t,n){return"currenttask"===t?null:a.a.createElement("div",{key:n},a.a.createElement(_.a.Group,{as:g.a,controlId:"formName"},a.a.createElement(_.a.Label,{column:!0,sm:"4"},e.formDictionaryTitles[t]),e.formColumns.map((function(n,r){return a.a.createElement(O.a,{sm:"2",key:n},a.a.createElement(E.a,{type:e.formDictionaryTypes[t],name:t+"_|_"+n,onChange:l.handleChange,onBlur:l.handleBlur,value:l.values[t+"_|_"+n],className:l.touched[t+"_|_"+n]&&l.errors[t+"_|_"+n]?"error":null}),a.a.createElement("small",null,l.touched[t+"_|_"+n]&&l.errors[t+"_|_"+n]?a.a.createElement("span",{className:"error-message"},l.errors[t+"_|_"+n]):a.a.createElement("span",null,"  ")))}))))})),a.a.createElement(v.a,{type:"submit",disabled:l.isSubmitting,variant:"outline-secondary",className:"mb-5"},"Сохранить"))):null}function C(e){var t=Object(r.useState)(!1),n=t[0],i=t[1],c=e.currentTask,l=Object(o.a)({initialValues:{},onSubmit:function(t,n){var r={};Object.keys(e.formInitialValues).map((function(n){console.log(n),r[n]=h({},e.formInitialValues[n]),console.log(n),Object.keys(t).map((function(a){if(a.includes(n)){var o=null;e.formInitialValues[n]&&Object.keys(e.formInitialValues[n]).forEach((function(t){e.formInitialValues[n][t].currenttask===c&&(o=t)})),o?(r[n][o]={currenttask:c,context:"Default",value:t[a]},console.log(r[n])):(r[n][f()]={currenttask:c,context:"Default",value:t[a]},console.log(r[n]))}}))}));var a=[];for(var o in Object.keys(r)){var l=Object.keys(r)[o];a.push(d.userCraft.setItem(l,r[l]))}Promise.all(a).then((function(){i(!1),i(!0)}))}});return Object(r.useEffect)((function(){Object.keys(e.formInitialValues||{}).forEach((function(t){var n=e.formInitialValues[t];Object.keys(n||{}).forEach((function(e){var r;if((null===(r=n[e])||void 0===r?void 0:r.currenttask)&&n[e].currenttask===c){var a,o=null==n||null===(a=n[e])||void 0===a?void 0:a.value;l.setFieldValue(t,o)}}))})),i(!0)}),[]),n?a.a.createElement("div",{style:{margin:"0 auto",maxWidth:800,padding:"2rem"}},a.a.createElement("small",null,c),a.a.createElement("form",{className:"baseForm",onSubmit:l.handleSubmit},Object.keys(e.formInitialValues).map((function(t,n){return a.a.createElement("div",{key:n},a.a.createElement(_.a.Group,{as:g.a,controlId:"formName"+t},a.a.createElement(_.a.Label,{column:!0,sm:"4"},e.formDictionaryTitles[t]),a.a.createElement(O.a,{sm:"8"},a.a.createElement(E.a,{type:e.formDictionaryTypes[t],name:t,onChange:l.handleChange,onBlur:l.handleBlur,value:l.values[t],className:l.touched[t]&&l.errors[t]?"error":null}))),a.a.createElement("small",null,l.touched[t]&&l.errors[t]?a.a.createElement("span",{className:"error-message"},l.errors[t]):a.a.createElement("span",null,"  ")))})),a.a.createElement(v.a,{type:"submit",disabled:l.isSubmitting,variant:"outline-secondary",className:"mb-5"},"Сохранить"))):null}var N=n("LbRr"),D=n("pJDg");t.default=function(){var e=Object(r.useState)(2),t=e[0],n=e[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(N.a,{siteTitle:"Econolabs"}),a.a.createElement(g.a,null,a.a.createElement(O.a,{sm:"3"},a.a.createElement(D.a,{vertical:!0,className:"m-5",size:"sm",style:{with:"100%"}},a.a.createElement(v.a,{variant:"outline-secondary",onClick:function(){return n(2)}},"Общие сведения"),a.a.createElement(v.a,{variant:"outline-secondary",onClick:function(){return n(3)}},"Золотое правило"))),a.a.createElement(O.a,{sm:"9"},a.a.createElement(b.a,null,2===t?a.a.createElement(V,{formFields:{rows:["currenttask","currentcompanyfullname","currentcompanyreporturl","currentcompanyunitofmoney"],columns:["Общие сведения"]}}):null,3===t?a.a.createElement(V,{formFields:{rows:["code2110_minfin_ru_66n","code1100_minfin_ru_66n","code1200_minfin_ru_66n","code1300_minfin_ru_66n","code1400_minfin_ru_66n","code1500_minfin_ru_66n"],columns:["2017","2018","2019"]}}):null))))}},dBiz:function(e){e.exports=JSON.parse('{"data":{"allDictionaryCsv":{"totalCount":19,"edges":[{"node":{"title":"currentTask","dictionaryId":"currenttask","comment":"Текущее задание","type":"text"}},{"node":{"title":"currentCompanyFullName","dictionaryId":"currentcompanyfullname","comment":"Текушая компания","type":"text"}},{"node":{"title":"currentCompanyReportUrl","dictionaryId":"currentcompanyreporturl","comment":"Финансовая отчетность URL","type":"url"}},{"node":{"title":"currentCompanyUnitOfMoney","dictionaryId":"currentcompanyunitofmoney","comment":"Единица измерения","type":"text"}},{"node":{"title":"Итого внеоборотных активов","dictionaryId":"code1100_minfin_ru_66n","comment":"Итого внеоборотных активов","type":"number"}},{"node":{"title":"Итого оборотных активов","dictionaryId":"code1200_minfin_ru_66n","comment":"Итого оборотных активов","type":"number"}},{"node":{"title":"Итого капитал","dictionaryId":"code1300_minfin_ru_66n","comment":"Итого капитал","type":"number"}},{"node":{"title":"Итого долгосрочных обязательств","dictionaryId":"code1400_minfin_ru_66n","comment":"Итого долгосрочных обязательств","type":"number"}},{"node":{"title":"Итого краткосрочных обязательств","dictionaryId":"code1500_minfin_ru_66n","comment":"Итого краткосрочных обязательств","type":"number"}},{"node":{"title":"Выручка","dictionaryId":"code2110_minfin_ru_66n","comment":"Выручка","type":"number"}},{"node":{"title":"Себестоимость продаж","dictionaryId":"code2120_minfin_ru_66n","comment":"Себестоимость продаж","type":"number"}},{"node":{"title":"Валовая прибыль (убыток)","dictionaryId":"code2100_minfin_ru_66n","comment":"Валовая прибыль (убыток)","type":"number"}},{"node":{"title":"Коммерческие расходы","dictionaryId":"code2210_minfin_ru_66n","comment":"Коммерческие расходы","type":"number"}},{"node":{"title":"Управленческие расходы","dictionaryId":"code2220_minfin_ru_66n","comment":"Управленческие расходы","type":"number"}},{"node":{"title":"Прибыль (убыток) от продаж","dictionaryId":"code2200_minfin_ru_66n","comment":"Прибыль (убыток) от продаж","type":"number"}},{"node":{"title":"Проценты к уплате","dictionaryId":"code2330_minfin_ru_66n","comment":"Проценты к уплате","type":"number"}},{"node":{"title":"Прибыль (убыток) до налогообложения","dictionaryId":"code2300_minfin_ru_66n","comment":"Прибыль (убыток) до налогообложения","type":"number"}},{"node":{"title":"Налог на прибыль","dictionaryId":"code2410_minfin_ru_66n","comment":"Налог на прибыль","type":"number"}},{"node":{"title":"Чистая прибыль (убыток)","dictionaryId":"code2400_minfin_ru_66n","comment":"Чистая прибыль (убыток)","type":"number"}}]}}}')},pJDg:function(e,t,n){"use strict";var r=n("wx14"),a=n("zLVn"),o=n("TSYQ"),i=n.n(o),c=n("q1tI"),l=n.n(c),u=n("vUet"),m=l.a.forwardRef((function(e,t){var n=e.bsPrefix,o=e.size,c=e.toggle,m=e.vertical,s=e.className,f=e.as,d=void 0===f?"div":f,y=Object(a.a)(e,["bsPrefix","size","toggle","vertical","className","as"]),p=Object(u.b)(n,"btn-group"),b=p;return m&&(b=p+"-vertical"),l.a.createElement(d,Object(r.a)({},y,{ref:t,className:i()(s,b,o&&p+"-"+o,c&&p+"-toggle")}))}));m.displayName="ButtonGroup",m.defaultProps={vertical:!1,toggle:!1,role:"group"},t.a=m}}]);
//# sourceMappingURL=component---src-pages-financial-analysis-layout-js-68376aac625855b8bb43.js.map